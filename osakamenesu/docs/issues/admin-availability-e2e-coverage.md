# 管理画面の空き枠削除 E2E テストを整備する

## 背景
- `apps/web/e2e/admin-dashboard.spec.ts` には空き枠を追加して保存するシナリオはあるが、UI から削除できることを検証するテストが存在しない。
- 現状は API へ直接 PUT して空き枠を空配列に戻す運用が多く、UI 操作が壊れても CI で検知できない。
- 管理画面で空き枠を止めるケースが増えており、削除フローのリグレッション検知が不可欠になっている。

## ゴール
- 管理画面の空き枠 UI から追加→保存→削除まで一連の操作を E2E で確認できる状態にする。
- CI の Playwright テストで追加と削除の双方が失敗すれば検知できるようにする。

## ステータス
- 2024-XX-XX: Playwright シナリオ追加済み。CI では `ADMIN_BASIC_USER` / `ADMIN_BASIC_PASS` 設定下での実行確認が必要。
- 2024-XX-XX: ローカルで `ADMIN_BASIC_USER=admin`, `ADMIN_BASIC_PASS=password` を設定してテストを実行。`ADMIN_API_KEY` 未設定のため `/api/admin/shops` が 500 を返し失敗したので、API キー設定後に再検証が必要。

## スコープ
- `apps/web/e2e/admin-dashboard.spec.ts` に空き枠の日程削除（少なくとも日単位での削除）を UI 操作で検証する Playwright テストを追加。
- 既存の空き枠追加テストと共通化できるセットアップは活用し、重複を避ける。
- テスト後の後片付けで API を直接叩く場合は、UI 検証後の状態復元に限定する。

## 想定外・除外
- バックエンド API の機能追加やプロキシ層の改修。
- Playwright 以外のテストフレームワーク導入。
- 空き枠のバリデーション強化や新規 UI コンポーネント開発。
