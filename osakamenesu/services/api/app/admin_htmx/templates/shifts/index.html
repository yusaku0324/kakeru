{% extends "base.html" %}

{% block content %}
  <h1>Shift rebuild</h1>

  <div id="error_box"></div>

  <form
    hx-post="/admin/htmx/shifts/rebuild"
    hx-target="#slots-table"
    hx-swap="outerHTML"
    hx-indicator="#rebuild-indicator"
    class="search-form"
  >
    <label>
      therapist_id
      <input
        type="text"
        name="therapist_id"
        value="{{ therapist_id }}"
        placeholder="UUID"
        required
      />
    </label>
    <label>
      date
      <input type="date" name="date" value="{{ date }}" required />
    </label>
    <button type="submit" data-testid="admin-htmx-shifts-rebuild">Rebuild</button>
    <span id="rebuild-indicator" class="htmx-indicator" style="display:none;">処理中...</span>
  </form>

  {% include "shifts/_slots_table.html" %}
{% endblock %}
