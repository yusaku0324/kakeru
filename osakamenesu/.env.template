# Osakamenesu 環境変数テンプレート
# このファイルをコピーして適切な場所に配置し、値を設定してください
# - APIサーバー: services/api/.env
# - Webアプリ: apps/web/.env.local

# ====================
# 共通設定
# ====================
NODE_ENV=development
LOG_LEVEL=debug

# ====================
# データベース設定（API用）
# ====================
DATABASE_URL=postgresql+asyncpg://app:app@localhost:5432/osaka_menesu
POSTGRES_USER=app
POSTGRES_PASSWORD=app
POSTGRES_DB=osaka_menesu
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# ====================
# Redis設定（API用）
# ====================
REDIS_URL=redis://localhost:6379/0
RATE_LIMIT_REDIS_URL=redis://localhost:6379/1
CACHE_REDIS_URL=redis://localhost:6379/2

# ====================
# Meilisearch設定（API用）
# ====================
MEILI_MASTER_KEY=dev_meili_master_key_replace_in_production
MEILI_HOST=http://localhost:7700

# ====================
# 認証・セキュリティ（API用）
# ====================
JWT_SECRET_KEY=your-super-secret-jwt-key-min-32-chars-replace-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
ADMIN_API_KEY=your-admin-api-key-replace-in-production
API_SECRET_KEY=your-api-secret-key-replace-in-production

# ====================
# Webプッシュ通知（VAPID）
# ====================
# APIサーバー用
VAPID_PUBLIC_KEY=your-vapid-public-key-here
VAPID_PRIVATE_KEY=your-vapid-private-key-here
VAPID_SUBJECT=mailto:support@osakamenesu.com

# Webアプリ用
NEXT_PUBLIC_VAPID_PUBLIC_KEY=your-vapid-public-key-here

# ====================
# Sentry監視設定
# ====================
# APIサーバー用
SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# Webアプリ用
NEXT_PUBLIC_SENTRY_DSN=https://yyy@yyy.ingest.sentry.io/yyy
SENTRY_ORG=your-org-name
SENTRY_PROJECT=osakamenesu-web
SENTRY_AUTH_TOKEN=sntrys_xxx

# ====================
# API URL設定（Web用）
# ====================
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_OSAKAMENESU_API_BASE=/api
API_INTERNAL_BASE=http://localhost:8000
OSAKAMENESU_API_INTERNAL_BASE=http://localhost:8000

# ====================
# S3画像ストレージ（オプション）
# ====================
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_DEFAULT_REGION=ap-northeast-1
S3_BUCKET_NAME=osakamenesu-images
S3_ENDPOINT_URL=

# ====================
# メール送信設定（オプション）
# ====================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_FROM_EMAIL=noreply@osakamenesu.com
SMTP_FROM_NAME=Osakamenesu

# ====================
# E2Eテスト用設定
# ====================
E2E_TEST_AUTH_SECRET=test-auth-secret
TEST_AUTH_SECRET=test-auth-secret
ADMIN_BASIC_USER=admin
ADMIN_BASIC_PASS=admin-password
E2E_BASE_URL=http://localhost:3000

# ====================
# API設定（API用）
# ====================
API_HOST=0.0.0.0
API_PORT=8000
API_ORIGIN=http://localhost:3000
BACKEND_CORS_ORIGINS=["http://localhost:3000","http://127.0.0.1:3000"]

# ====================
# プロジェクト設定
# ====================
PROJECT_NAME=osakamenesu
VERSION=1.0.0

# ====================
# Feature Flags（オプション）
# ====================
ENABLE_PUSH_NOTIFICATIONS=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=false
ENABLE_METRICS_COLLECTION=true

# ====================
# デバッグ設定（開発環境のみ）
# ====================
DEBUG=true
DEBUG_SQL=false
DEBUG_PERFORMANCE=true

# ====================
# レート制限設定
# ====================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ====================
# セッション設定
# ====================
SESSION_SECRET=your-session-secret-replace-in-production
SESSION_EXPIRE_HOURS=24

# ====================
# 外部サービス設定（オプション）
# ====================
# Google Analytics
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX

# Google Tag Manager
NEXT_PUBLIC_GTM_ID=GTM-XXXXXXX

# Facebook Pixel
NEXT_PUBLIC_FB_PIXEL_ID=XXXXXXXXXXXXXXXXX

# LINE設定
LINE_CHANNEL_ID=
LINE_CHANNEL_SECRET=
LINE_CHANNEL_ACCESS_TOKEN=

# ====================
# 注意事項
# ====================
# 1. このファイルは絶対にGitにコミットしないでください
# 2. 本番環境では強力なパスワードとキーを使用してください
# 3. 環境変数管理サービス（Vercel, Railway等）の使用を推奨
# 4. 定期的にキーをローテーションしてください
# 5. NEXT_PUBLIC_プレフィックスの変数はクライアントサイドに露出します