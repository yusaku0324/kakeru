<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Osakamenesu API Documentation</title>
    <link rel="stylesheet" href="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }
        .topbar {
            background-color: #1b1b1b;
            padding: 10px 20px;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .topbar h1 {
            margin: 0;
            font-size: 24px;
        }
        .topbar .links {
            display: flex;
            gap: 20px;
        }
        .topbar a {
            color: white;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background-color 0.2s;
        }
        .topbar a:hover {
            background-color: #333;
        }
        #swagger-ui {
            padding: 20px;
        }
        .swagger-ui .topbar {
            display: none;
        }
    </style>
</head>
<body>
    <div class="topbar">
        <h1>üîç Osakamenesu API Documentation</h1>
        <div class="links">
            <a href="#" onclick="switchToSwagger()">Swagger UI</a>
            <a href="#" onclick="switchToRedoc()">ReDoc</a>
            <a href="/docs">Interactive Docs</a>
            <a href="/redoc">Live ReDoc</a>
        </div>
    </div>
    <div id="swagger-ui"></div>
    <div id="redoc-container" style="display: none;"></div>

    <script src="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui-bundle.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui-standalone-preset.js"></script>
    <script src="https://cdn.redoc.ly/redoc/latest/bundles/redoc.standalone.js"></script>

    <script>
        const spec = {"openapi": "3.1.0", "info": {"title": "Osakamenesu API", "description": "\n# Osakamenesu API Documentation\n\n\u5927\u962a\u30e1\u30f3\u30ba\u30a8\u30b9\u30c6\u691c\u7d22\u30fb\u4e88\u7d04\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306eAPI\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u3059\u3002\n\n## \u6982\u8981\n\nOsakamenesu API\u306f\u3001\u30e1\u30f3\u30ba\u30a8\u30b9\u30c6\u5e97\u8217\u306e\u691c\u7d22\u3001\u30bb\u30e9\u30d4\u30b9\u30c8\u60c5\u5831\u306e\u53d6\u5f97\u3001\u4e88\u7d04\u7ba1\u7406\u306a\u3069\u306e\u6a5f\u80fd\u3092\u63d0\u4f9b\u3059\u308bRESTful API\u3067\u3059\u3002\n\n## \u4e3b\u306a\u6a5f\u80fd\n\n### \ud83c\udfea \u5e97\u8217\u7ba1\u7406\n- \u5e97\u8217\u691c\u7d22\uff08\u30a8\u30ea\u30a2\u3001\u99c5\u3001\u30ab\u30c6\u30b4\u30ea\u30fc\u3001\u6599\u91d1\u5e2f\uff09\n- \u5e97\u8217\u8a73\u7d30\u60c5\u5831\u306e\u53d6\u5f97\n- \u30bb\u30e9\u30d4\u30b9\u30c8\u4e00\u89a7\u306e\u53d6\u5f97\n\n### \ud83d\udc69\u200d\ud83d\udcbc \u30bb\u30e9\u30d4\u30b9\u30c8\u7ba1\u7406\n- \u30bb\u30e9\u30d4\u30b9\u30c8\u8a73\u7d30\u60c5\u5831\n- \u7a7a\u304d\u72b6\u6cc1\u78ba\u8a8d\n- \u985e\u4f3c\u30bb\u30e9\u30d4\u30b9\u30c8\u691c\u7d22\n\n### \ud83d\udcc5 \u4e88\u7d04\u7ba1\u7406\n- \u4e88\u7d04\u4f5c\u6210\u30fb\u78ba\u8a8d\u30fb\u30ad\u30e3\u30f3\u30bb\u30eb\n- \u4e88\u7d04\u53ef\u80fd\u6642\u9593\u306e\u78ba\u8a8d\n- \u4e88\u7d04\u5c65\u6b74\u306e\u53d6\u5f97\n\n### \ud83d\udd10 \u8a8d\u8a3c\u30fb\u8a8d\u53ef\n- \u30de\u30b8\u30c3\u30af\u30ea\u30f3\u30af\u8a8d\u8a3c\n- JWT \u30c8\u30fc\u30af\u30f3\u30d9\u30fc\u30b9\u8a8d\u8a3c\n- \u7ba1\u7406\u8005API\u8a8d\u8a3c\n\n## \u8a8d\u8a3c\u65b9\u6cd5\n\n### 1. \u30b2\u30b9\u30c8\u30e6\u30fc\u30b6\u30fc\uff08\u8a8d\u8a3c\u4e0d\u8981\uff09\n- \u5e97\u8217\u691c\u7d22\n- \u30bb\u30e9\u30d4\u30b9\u30c8\u60c5\u5831\u95b2\u89a7\n- \u7a7a\u304d\u72b6\u6cc1\u78ba\u8a8d\n\n### 2. \u8a8d\u8a3c\u6e08\u307f\u30e6\u30fc\u30b6\u30fc\n- Authorization: Bearer {token}\n- \u4e88\u7d04\u4f5c\u6210\u30fb\u7ba1\u7406\n- \u304a\u6c17\u306b\u5165\u308a\u7ba1\u7406\n\n### 3. \u7ba1\u7406\u8005API\n- X-Admin-Key: {admin_key}\n- \u5e97\u8217\u30fb\u30bb\u30e9\u30d4\u30b9\u30c8\u7ba1\u7406\n- \u30b7\u30b9\u30c6\u30e0\u7ba1\u7406\n\n## \u30ec\u30fc\u30c8\u5236\u9650\n\n- \u30b2\u30b9\u30c8: 60\u30ea\u30af\u30a8\u30b9\u30c8/\u5206\n- \u8a8d\u8a3c\u6e08\u307f: 300\u30ea\u30af\u30a8\u30b9\u30c8/\u5206\n- \u7ba1\u7406\u8005: \u7121\u5236\u9650\n\n## \u30a8\u30e9\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9\n\n\u3059\u3079\u3066\u306e\u30a8\u30e9\u30fc\u30ec\u30b9\u30dd\u30f3\u30b9\u306f\u4ee5\u4e0b\u306e\u5f62\u5f0f\u3067\u8fd4\u3055\u308c\u307e\u3059\uff1a\n\n```json\n{\n  \"detail\": \"\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\",\n  \"code\": \"ERROR_CODE\"\n}\n```\n\n## \u74b0\u5883\n\n- Production: https://osakamenesu-api.fly.dev\n- Staging: https://osakamenesu-api-stg.fly.dev\n", "contact": {"name": "Osakamenesu Support", "email": "support@osakamenesu.com"}, "license": {"name": "Proprietary", "url": "https://osakamenesu.com/terms"}, "version": "1.0.0"}, "paths": {"/healthz": {"get": {"summary": "Healthz", "operationId": "healthz_healthz_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/out/{token}": {"get": {"summary": "Out Redirect", "description": "Resolve outlink token from DB and redirect. Optionally logs a click.", "operationId": "out_redirect_api_out__token__get", "parameters": [{"name": "token", "in": "path", "required": true, "schema": {"type": "string", "title": "Token"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/profiles": {"post": {"summary": "Create profile (seed)", "operationId": "create_profile_api_admin_profiles_post", "parameters": [{"name": "skip_index", "in": "query", "required": false, "schema": {"type": "boolean", "description": "Skip immediate Meili indexing", "default": false, "title": "Skip Index"}, "description": "Skip immediate Meili indexing"}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ProfileCreate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/profiles/search": {"get": {"summary": "Search Profiles", "operationId": "search_profiles_api_profiles_search_get", "parameters": [{"name": "q", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Q"}}, {"name": "area", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Area"}}, {"name": "station", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Station"}}, {"name": "bust", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Bust"}}, {"name": "service", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Service"}}, {"name": "body", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Body"}}, {"name": "page", "in": "query", "required": false, "schema": {"type": "integer", "default": 1, "title": "Page"}}, {"name": "page_size", "in": "query", "required": false, "schema": {"type": "integer", "default": 12, "title": "Page Size"}}, {"name": "today", "in": "query", "required": false, "schema": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Today"}}, {"name": "price_min", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Price Min"}}, {"name": "price_max", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Price Max"}}, {"name": "sort", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Sort"}}, {"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "default": "published", "title": "Status"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/profiles/{profile_id}": {"get": {"summary": "Get profile detail", "operationId": "get_profile_detail_api_profiles__profile_id__get", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Profile Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/profiles/{profile_id}": {"delete": {"summary": "Delete profile", "description": "Delete a profile and all related data (therapists, shifts, etc.).", "operationId": "delete_profile_api_admin_profiles__profile_id__delete", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/seed/cleanup": {"post": {"summary": "Cleanup seed data", "description": "Delete all profiles matching the name pattern (for seed cleanup).", "operationId": "cleanup_seed_data_api_admin_seed_cleanup_post", "parameters": [{"name": "name_pattern", "in": "query", "required": false, "schema": {"type": "string", "description": "Delete profiles with names containing this pattern", "default": "\u30e1\u30f3\u30a8\u30b9", "title": "Name Pattern"}, "description": "Delete profiles with names containing this pattern"}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/profiles/{profile_id}/reindex": {"post": {"summary": "Reindex single profile", "operationId": "reindex_one_api_admin_profiles__profile_id__reindex_post", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/reindex": {"post": {"summary": "Reindex all published profiles", "operationId": "reindex_all_api_admin_reindex_post", "parameters": [{"name": "purge", "in": "query", "required": false, "schema": {"type": "boolean", "default": false, "title": "Purge"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/availabilities": {"post": {"summary": "Create availability (seed)", "operationId": "create_availability_api_admin_availabilities_post", "parameters": [{"name": "profile_id", "in": "query", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}, {"name": "date", "in": "query", "required": true, "schema": {"type": "string", "title": "Date"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "requestBody": {"content": {"application/json": {"schema": {"anyOf": [{"type": "object", "additionalProperties": true}, {"type": "null"}], "title": "Slots Json"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/availabilities/bulk": {"post": {"summary": "Create availabilities from JSON", "operationId": "create_availability_bulk_endpoint_api_admin_availabilities_bulk_post", "parameters": [{"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/AvailabilityCreate"}, "title": "Payload"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/outlinks": {"post": {"summary": "Create outlink (seed)", "operationId": "create_outlink_api_admin_outlinks_post", "parameters": [{"name": "profile_id", "in": "query", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}, {"name": "kind", "in": "query", "required": true, "schema": {"type": "string", "title": "Kind"}}, {"name": "token", "in": "query", "required": true, "schema": {"type": "string", "title": "Token"}}, {"name": "target_url", "in": "query", "required": true, "schema": {"type": "string", "title": "Target Url"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/profiles/{profile_id}/marketing": {"post": {"summary": "Update marketing metadata", "operationId": "update_marketing_api_admin_profiles__profile_id__marketing_post", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ProfileMarketingUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/shops": {"get": {"summary": "List Shops", "operationId": "list_shops_api_admin_shops_get", "parameters": [{"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"summary": "Create Shop", "operationId": "create_shop_api_admin_shops_post", "parameters": [{"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShopPayload"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/shops/{shop_id}": {"get": {"summary": "Get Shop", "description": "Get a specific shop by ID.", "operationId": "get_shop_api_admin_shops__shop_id__get", "parameters": [{"name": "shop_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Shop Id"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/shops/{shop_id}/availability": {"get": {"summary": "Get availability calendar", "operationId": "admin_get_shop_availability_api_admin_shops__shop_id__availability_get", "parameters": [{"name": "shop_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Shop Id"}}, {"name": "start_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "title": "Start Date"}}, {"name": "end_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "title": "End Date"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AvailabilityCalendar"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"summary": "Upsert availability", "operationId": "admin_upsert_availability_endpoint_api_admin_shops__shop_id__availability_put", "parameters": [{"name": "shop_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Shop Id"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AvailabilityUpsert"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "additionalProperties": true, "title": "Response Admin Upsert Availability Endpoint Api Admin Shops  Shop Id  Availability Put"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/shops/{shop_id}/content": {"patch": {"summary": "Update shop content", "operationId": "admin_update_shop_content_endpoint_api_admin_shops__shop_id__content_patch", "parameters": [{"name": "shop_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Shop Id"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShopContentUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/shops/content:bulk": {"post": {"summary": "Bulk ingest shop content", "operationId": "admin_bulk_ingest_shop_content_api_admin_shops_content_bulk_post", "parameters": [{"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BulkShopContentRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BulkShopContentResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/reviews": {"get": {"summary": "List reviews", "operationId": "admin_list_reviews_api_admin_reviews_get", "parameters": [{"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Status"}}, {"name": "page", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 1, "title": "Page"}}, {"name": "page_size", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 100, "minimum": 1, "default": 20, "title": "Page Size"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReviewListResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/reviews/{review_id}": {"patch": {"summary": "Update review status", "operationId": "admin_update_review_status_api_admin_reviews__review_id__patch", "parameters": [{"name": "review_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Review Id"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReviewModerationRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReviewItem"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/therapist_shifts": {"get": {"summary": "List Shifts", "operationId": "list_shifts_api_admin_therapist_shifts_get", "parameters": [{"name": "therapist_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Therapist Id"}}, {"name": "date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "title": "Date"}}, {"name": "page", "in": "query", "required": false, "schema": {"type": "integer", "default": 1, "title": "Page"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 50, "title": "Limit"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"summary": "Create Shift", "operationId": "create_shift_api_admin_therapist_shifts_post", "parameters": [{"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TherapistShiftPayload"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/therapist_shifts/{shift_id}": {"put": {"summary": "Update Shift", "operationId": "update_shift_api_admin_therapist_shifts__shift_id__put", "parameters": [{"name": "shift_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Shift Id"}}, {"name": "force", "in": "query", "required": false, "schema": {"type": "boolean", "description": "\u4e88\u7d04\u304c\u306f\u307f\u51fa\u3057\u3066\u3082\u5f37\u5236\u66f4\u65b0\u3059\u308b", "default": false, "title": "Force"}, "description": "\u4e88\u7d04\u304c\u306f\u307f\u51fa\u3057\u3066\u3082\u5f37\u5236\u66f4\u65b0\u3059\u308b"}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TherapistShiftPayload"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"summary": "Delete Shift", "operationId": "delete_shift_api_admin_therapist_shifts__shift_id__delete", "parameters": [{"name": "shift_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Shift Id"}}, {"name": "force", "in": "query", "required": false, "schema": {"type": "boolean", "description": "\u4e88\u7d04\u304c\u3042\u3063\u3066\u3082\u5f37\u5236\u524a\u9664\u3059\u308b", "default": false, "title": "Force"}, "description": "\u4e88\u7d04\u304c\u3042\u3063\u3066\u3082\u5f37\u5236\u524a\u9664\u3059\u308b"}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "responses": {"204": {"description": "Successful Response"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/shops/{shop_id}/buffer": {"patch": {"summary": "Update Shop Buffer", "description": "Update buffer minutes for a shop.", "operationId": "update_shop_buffer_api_admin_shops__shop_id__buffer_patch", "parameters": [{"name": "shop_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Shop Id"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UpdateBufferMinutesPayload"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/guest_reservations": {"get": {"summary": "List Guest Reservations", "operationId": "list_guest_reservations_api_admin_guest_reservations_get", "parameters": [{"name": "shop_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Shop Id"}}, {"name": "date_from", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Date From"}}, {"name": "date_to", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Date To"}}, {"name": "page", "in": "query", "required": false, "schema": {"type": "integer", "default": 1, "title": "Page"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 50, "title": "Limit"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AdminGuestReservationListResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/guest_reservations/{reservation_id}": {"get": {"summary": "Get Guest Reservation Detail", "operationId": "get_guest_reservation_detail_api_admin_guest_reservations__reservation_id__get", "parameters": [{"name": "reservation_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Reservation Id"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AdminGuestReservation"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/guest_reservations/{reservation_id}/status": {"post": {"summary": "Update Guest Reservation Status Api", "operationId": "update_guest_reservation_status_api_api_admin_guest_reservations__reservation_id__status_post", "parameters": [{"name": "reservation_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Reservation Id"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AdminGuestReservationStatusPayload"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/therapists": {"get": {"summary": "List Therapists", "operationId": "list_therapists_api_admin_therapists_get", "parameters": [{"name": "shop_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Shop Id"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"summary": "Create Therapist", "operationId": "create_therapist_api_admin_therapists_post", "parameters": [{"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TherapistPayload"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/therapists/{therapist_id}": {"patch": {"summary": "Update Therapist", "description": "Update therapist fields.", "operationId": "update_therapist_api_admin_therapists__therapist_id__patch", "parameters": [{"name": "therapist_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Therapist Id"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TherapistUpdatePayload"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/therapists/embeddings/generate": {"post": {"summary": "Generate Photo Embeddings", "description": "Generate or regenerate photo embeddings for therapists.\n\nThis endpoint allows administrators to generate embeddings for:\n- All therapists without embeddings (default)\n- Specific therapist IDs\n- Force regeneration of existing embeddings", "operationId": "generate_photo_embeddings_api_admin_therapists_embeddings_generate_post", "parameters": [{"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/EmbeddingGenerateRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/EmbeddingGenerateResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/therapists/{therapist_id}/embedding": {"get": {"summary": "Get Therapist Embedding Status", "description": "Get embedding status for a specific therapist.", "operationId": "get_therapist_embedding_status_api_admin_therapists__therapist_id__embedding_get", "parameters": [{"name": "therapist_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Therapist Id"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/therapists/embeddings/batch": {"post": {"summary": "Start Batch Embedding Computation", "description": "Start batch computation of photo embeddings in the background.\n\nThis endpoint triggers a background task to compute embeddings for\nall therapists without embeddings. The task runs asynchronously.", "operationId": "start_batch_embedding_computation_api_admin_therapists_embeddings_batch_post", "parameters": [{"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BatchEmbeddingRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BatchEmbeddingResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/admin/shops/{shop_id}/dashboard": {"get": {"summary": "Shop Dashboard", "operationId": "shop_dashboard_api_admin_shops__shop_id__dashboard_get", "parameters": [{"name": "shop_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Shop Id"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/admin/htmx/dashboard": {"get": {"tags": ["admin_htmx"], "summary": "Dashboard", "operationId": "dashboard_admin_htmx_dashboard_get", "parameters": [{"name": "q", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Q"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "responses": {"200": {"description": "Successful Response", "content": {"text/html": {"schema": {"type": "string"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/admin/htmx/dashboard/table": {"get": {"tags": ["admin_htmx"], "summary": "Dashboard Table", "operationId": "dashboard_table_admin_htmx_dashboard_table_get", "parameters": [{"name": "q", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Q"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "responses": {"200": {"description": "Successful Response", "content": {"text/html": {"schema": {"type": "string"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/admin/htmx/static/{path}": {"get": {"tags": ["admin_htmx"], "summary": "Admin Htmx Static", "operationId": "admin_htmx_static_admin_htmx_static__path__get", "parameters": [{"name": "path", "in": "path", "required": true, "schema": {"type": "string", "title": "Path"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/admin/htmx/shifts": {"get": {"tags": ["admin_htmx"], "summary": "Shifts Index", "operationId": "shifts_index_admin_htmx_shifts_get", "parameters": [{"name": "therapist_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Therapist Id"}}, {"name": "date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Date"}}, {"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "responses": {"200": {"description": "Successful Response", "content": {"text/html": {"schema": {"type": "string"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/admin/htmx/shifts/rebuild": {"post": {"tags": ["admin_htmx"], "summary": "Shifts Rebuild", "operationId": "shifts_rebuild_admin_htmx_shifts_rebuild_post", "parameters": [{"name": "X-Admin-Key", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Admin-Key"}}], "requestBody": {"required": true, "content": {"application/x-www-form-urlencoded": {"schema": {"$ref": "#/components/schemas/Body_shifts_rebuild_admin_htmx_shifts_rebuild_post"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"text/html": {"schema": {"type": "string"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/shops": {"get": {"tags": ["shops"], "summary": "Search Shops", "operationId": "search_shops_api_v1_shops_get", "parameters": [{"name": "q", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "description": "Free text query", "title": "Q"}, "description": "Free text query"}, {"name": "area", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "description": "Area code filter", "title": "Area"}, "description": "Area code filter"}, {"name": "station", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "description": "Nearest station filter", "title": "Station"}, "description": "Nearest station filter"}, {"name": "category", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "description": "Service category", "title": "Category"}, "description": "Service category"}, {"name": "service_tags", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "description": "Comma separated service tags", "title": "Service Tags"}, "description": "Comma separated service tags"}, {"name": "price_min", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer", "minimum": 0}, {"type": "null"}], "title": "Price Min"}}, {"name": "price_max", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer", "minimum": 0}, {"type": "null"}], "title": "Price Max"}}, {"name": "available_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "description": "Required availability date", "title": "Available Date"}, "description": "Required availability date"}, {"name": "open_now", "in": "query", "required": false, "schema": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Open Now"}}, {"name": "price_band", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "description": "Comma separated price band keys", "title": "Price Band"}, "description": "Comma separated price band keys"}, {"name": "ranking_badges_param", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "description": "Comma separated ranking badge keys", "title": "Ranking Badges Param"}, "description": "Comma separated ranking badge keys"}, {"name": "promotions_only", "in": "query", "required": false, "schema": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "description": "Filter shops with promotions", "title": "Promotions Only"}, "description": "Filter shops with promotions"}, {"name": "discounts_only", "in": "query", "required": false, "schema": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "description": "Filter shops with discounts", "title": "Discounts Only"}, "description": "Filter shops with discounts"}, {"name": "diaries_only", "in": "query", "required": false, "schema": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "description": "Filter shops with published diaries", "title": "Diaries Only"}, "description": "Filter shops with published diaries"}, {"name": "bust_min", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "description": "Lower bound bust tag (A-Z)", "title": "Bust Min"}, "description": "Lower bound bust tag (A-Z)"}, {"name": "bust_max", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "description": "Upper bound bust tag (A-Z)", "title": "Bust Max"}, "description": "Upper bound bust tag (A-Z)"}, {"name": "age_min", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer", "minimum": 0}, {"type": "null"}], "title": "Age Min"}}, {"name": "age_max", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer", "minimum": 0}, {"type": "null"}], "title": "Age Max"}}, {"name": "height_min", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer", "minimum": 0}, {"type": "null"}], "title": "Height Min"}}, {"name": "height_max", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer", "minimum": 0}, {"type": "null"}], "title": "Height Max"}}, {"name": "hair_color", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "description": "Hair color tag", "title": "Hair Color"}, "description": "Hair color tag"}, {"name": "hair_style", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "description": "Hair style tag", "title": "Hair Style"}, "description": "Hair style tag"}, {"name": "body_shape", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "description": "Body shape tag", "title": "Body Shape"}, "description": "Body shape tag"}, {"name": "sort", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Sort"}}, {"name": "page", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 1, "title": "Page"}}, {"name": "page_size", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 50, "minimum": 1, "default": 12, "title": "Page Size"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/shops/{shop_id}": {"get": {"tags": ["shops"], "summary": "Get Shop Detail", "operationId": "get_shop_detail_api_v1_shops__shop_id__get", "parameters": [{"name": "shop_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Shop Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/shops/{shop_id}/diaries": {"get": {"tags": ["shops"], "summary": "List Shop Diaries", "operationId": "list_shop_diaries_api_v1_shops__shop_id__diaries_get", "parameters": [{"name": "shop_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Shop Id"}}, {"name": "page", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 1, "title": "Page"}}, {"name": "page_size", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 20, "minimum": 1, "default": 6, "title": "Page Size"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/shops/{shop_id}/availability": {"get": {"tags": ["shops"], "summary": "Get Shop Availability", "operationId": "get_shop_availability_api_v1_shops__shop_id__availability_get", "parameters": [{"name": "shop_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Shop Id"}}, {"name": "date_from", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "title": "Date From"}}, {"name": "date_to", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "title": "Date To"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/shops/{shop_id}/reviews": {"get": {"tags": ["shops"], "summary": "List Shop Reviews", "operationId": "list_shop_reviews_api_v1_shops__shop_id__reviews_get", "parameters": [{"name": "shop_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Shop Id"}}, {"name": "page", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 1, "title": "Page"}}, {"name": "page_size", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 50, "minimum": 1, "default": 10, "title": "Page Size"}}, {"name": "sort_by", "in": "query", "required": false, "schema": {"type": "string", "pattern": "^(newest|highest|lowest)$", "default": "newest", "title": "Sort By"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["shops"], "summary": "Create Shop Review", "operationId": "create_shop_review_api_v1_shops__shop_id__reviews_post", "parameters": [{"name": "shop_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Shop Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReviewCreateRequest"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/shops/{shop_id}/therapists": {"get": {"tags": ["shops"], "summary": "List Shop Therapists", "description": "List therapists for a shop with optional availability.\n\nReturns published therapists with their tags, photos, and availability slots.\nUseful for shop detail pages where users want to see available therapists.", "operationId": "list_shop_therapists_api_v1_shops__shop_id__therapists_get", "parameters": [{"name": "shop_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Shop Id"}}, {"name": "include_availability", "in": "query", "required": false, "schema": {"type": "boolean", "description": "Include availability slots", "default": true, "title": "Include Availability"}, "description": "Include availability slots"}, {"name": "availability_days", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 30, "minimum": 1, "description": "Days of availability to fetch", "default": 7, "title": "Availability Days"}, "description": "Days of availability to fetch"}, {"name": "page", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 1, "title": "Page"}}, {"name": "page_size", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 50, "minimum": 1, "default": 20, "title": "Page Size"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/guest/matching/search": {"post": {"tags": ["guest-matching"], "summary": "Guest Matching Search", "description": "v1: \u65e2\u5b58\u30b7\u30e7\u30c3\u30d7\u691c\u7d22\u3092\u30e9\u30c3\u30d7\u3057\u3001\u7c21\u6613\u30b9\u30b3\u30a2\u30ea\u30f3\u30b0\u3057\u3066\u8fd4\u5374\u3002\n\u73fe\u72b6\u306f\u30bf\u30b0\u4e0d\u8db3\u306e\u305f\u3081\u96f0\u56f2\u6c17\u7cfb\u30bf\u30b0\u306f\u7a7a\uff080.5\u306e\u30cb\u30e5\u30fc\u30c8\u30e9\u30eb\uff09\u3067\u8a08\u7b97\u3002", "operationId": "guest_matching_search_api_guest_matching_search_post", "parameters": [{"name": "area", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Area"}}, {"name": "date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Date"}}, {"name": "time_from", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Time From"}}, {"name": "time_to", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Time To"}}, {"name": "budget_level", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "pattern": "^(low|mid|high)?$"}, {"type": "null"}], "title": "Budget Level"}}, {"name": "free_text", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Free Text"}}, {"name": "guest_token", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Guest Token"}}, {"name": "price_rank_min", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer", "maximum": 5, "minimum": 1}, {"type": "null"}], "title": "Price Rank Min"}}, {"name": "price_rank_max", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer", "maximum": 5, "minimum": 1}, {"type": "null"}], "title": "Price Rank Max"}}, {"name": "age_min", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer", "maximum": 99, "minimum": 18}, {"type": "null"}], "title": "Age Min"}}, {"name": "age_max", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer", "maximum": 99, "minimum": 18}, {"type": "null"}], "title": "Age Max"}}, {"name": "base_staff_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Base Staff Id"}}, {"name": "sort", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Sort"}}, {"name": "limit", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer", "maximum": 100, "minimum": 1}, {"type": "null"}], "title": "Limit"}}, {"name": "offset", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer", "minimum": 0}, {"type": "null"}], "title": "Offset"}}, {"name": "phase", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Phase"}}, {"name": "step_index", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer", "minimum": 1}, {"type": "null"}], "title": "Step Index"}}, {"name": "entry_source", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Entry Source"}}], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/Body_guest_matching_search_api_guest_matching_search_post"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MatchingResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "get": {"tags": ["guest-matching"], "summary": "Guest Matching Search", "description": "v1: \u65e2\u5b58\u30b7\u30e7\u30c3\u30d7\u691c\u7d22\u3092\u30e9\u30c3\u30d7\u3057\u3001\u7c21\u6613\u30b9\u30b3\u30a2\u30ea\u30f3\u30b0\u3057\u3066\u8fd4\u5374\u3002\n\u73fe\u72b6\u306f\u30bf\u30b0\u4e0d\u8db3\u306e\u305f\u3081\u96f0\u56f2\u6c17\u7cfb\u30bf\u30b0\u306f\u7a7a\uff080.5\u306e\u30cb\u30e5\u30fc\u30c8\u30e9\u30eb\uff09\u3067\u8a08\u7b97\u3002", "operationId": "guest_matching_search_api_guest_matching_search_get", "parameters": [{"name": "area", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Area"}}, {"name": "date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Date"}}, {"name": "time_from", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Time From"}}, {"name": "time_to", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Time To"}}, {"name": "budget_level", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "pattern": "^(low|mid|high)?$"}, {"type": "null"}], "title": "Budget Level"}}, {"name": "free_text", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Free Text"}}, {"name": "guest_token", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Guest Token"}}, {"name": "price_rank_min", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer", "maximum": 5, "minimum": 1}, {"type": "null"}], "title": "Price Rank Min"}}, {"name": "price_rank_max", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer", "maximum": 5, "minimum": 1}, {"type": "null"}], "title": "Price Rank Max"}}, {"name": "age_min", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer", "maximum": 99, "minimum": 18}, {"type": "null"}], "title": "Age Min"}}, {"name": "age_max", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer", "maximum": 99, "minimum": 18}, {"type": "null"}], "title": "Age Max"}}, {"name": "base_staff_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Base Staff Id"}}, {"name": "sort", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Sort"}}, {"name": "limit", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer", "maximum": 100, "minimum": 1}, {"type": "null"}], "title": "Limit"}}, {"name": "offset", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer", "minimum": 0}, {"type": "null"}], "title": "Offset"}}, {"name": "phase", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Phase"}}, {"name": "step_index", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer", "minimum": 1}, {"type": "null"}], "title": "Step Index"}}, {"name": "entry_source", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Entry Source"}}], "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/Body_guest_matching_search_api_guest_matching_search_get"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MatchingResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/guest/matching/similar": {"get": {"tags": ["guest-matching"], "summary": "Guest Matching Similar", "operationId": "guest_matching_similar_api_guest_matching_similar_get", "parameters": [{"name": "staff_id", "in": "query", "required": false, "schema": {"type": "string", "description": "Base staff/therapist id (alias: therapist_id)", "title": "Staff Id"}, "description": "Base staff/therapist id (alias: therapist_id)"}, {"name": "therapist_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "description": "Deprecated alias for staff_id", "title": "Therapist Id"}, "description": "Deprecated alias for staff_id"}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 20, "minimum": 1, "description": "Maximum similar candidates to return", "default": 8, "title": "Limit"}, "description": "Maximum similar candidates to return"}, {"name": "shop_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "description": "If set, restricts search to this shop/profile", "title": "Shop Id"}, "description": "If set, restricts search to this shop/profile"}, {"name": "exclude_unavailable", "in": "query", "required": false, "schema": {"type": "boolean", "description": "Exclude therapists with no availability", "default": true, "title": "Exclude Unavailable"}, "description": "Exclude therapists with no availability"}, {"name": "min_score", "in": "query", "required": false, "schema": {"type": "number", "maximum": 1.0, "minimum": 0.0, "description": "Drop candidates below this score", "default": 0.4, "title": "Min Score"}, "description": "Drop candidates below this score"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SimilarResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/guest/reservations": {"post": {"tags": ["guest-reservations"], "summary": "Create Guest Reservation Api", "operationId": "create_guest_reservation_api_api_guest_reservations_post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GuestReservationPayload"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GuestReservationResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "get": {"tags": ["guest-reservations"], "summary": "List Guest Reservations Api", "operationId": "list_guest_reservations_api_api_guest_reservations_get", "parameters": [{"name": "guest_token", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Guest Token"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/GuestReservationResponse"}, "title": "Response List Guest Reservations Api Api Guest Reservations Get"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/guest/reservations/hold": {"post": {"tags": ["guest-reservations"], "summary": "Hold Guest Reservation Api", "operationId": "hold_guest_reservation_api_api_guest_reservations_hold_post", "parameters": [{"name": "Idempotency-Key", "in": "header", "required": true, "schema": {"type": "string", "title": "Idempotency-Key"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GuestReservationHoldPayload"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GuestReservationResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/guest/reservations/{reservation_id}/cancel": {"post": {"tags": ["guest-reservations"], "summary": "Cancel Guest Reservation Api", "operationId": "cancel_guest_reservation_api_api_guest_reservations__reservation_id__cancel_post", "parameters": [{"name": "reservation_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Reservation Id"}}, {"name": "guest_token", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Guest Token"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GuestReservationResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/guest/reservations/{reservation_id}": {"get": {"tags": ["guest-reservations"], "summary": "Get Guest Reservation Api", "operationId": "get_guest_reservation_api_api_guest_reservations__reservation_id__get", "parameters": [{"name": "reservation_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Reservation Id"}}, {"name": "guest_token", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Guest Token"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GuestReservationResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/guest/therapists/{therapist_id}/availability_summary": {"get": {"tags": ["guest-therapist-availability"], "summary": "Get Availability Summary Api", "operationId": "get_availability_summary_api_api_guest_therapists__therapist_id__availability_summary_get", "parameters": [{"name": "therapist_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Therapist Id"}}, {"name": "date_from", "in": "query", "required": true, "schema": {"type": "string", "format": "date", "description": "inclusive YYYY-MM-DD", "title": "Date From"}, "description": "inclusive YYYY-MM-DD"}, {"name": "date_to", "in": "query", "required": true, "schema": {"type": "string", "format": "date", "description": "inclusive YYYY-MM-DD", "title": "Date To"}, "description": "inclusive YYYY-MM-DD"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AvailabilitySummaryResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/guest/therapists/{therapist_id}/availability_slots": {"get": {"tags": ["guest-therapist-availability"], "summary": "Get Availability Slots Api", "operationId": "get_availability_slots_api_api_guest_therapists__therapist_id__availability_slots_get", "parameters": [{"name": "therapist_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Therapist Id"}}, {"name": "date", "in": "query", "required": true, "schema": {"type": "string", "format": "date", "description": "target YYYY-MM-DD", "title": "Date"}, "description": "target YYYY-MM-DD"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AvailabilitySlotsResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/guest/therapists/{therapist_id}/verify_slot": {"get": {"tags": ["guest-therapist-availability"], "summary": "Verify Slot Api", "description": "\u4e88\u7d04\u524d\u306b\u30b9\u30ed\u30c3\u30c8\u306e\u6700\u65b0\u72b6\u614b\u3092\u691c\u8a3c\u3059\u308b\u3002\n\n- 200: \u30b9\u30ed\u30c3\u30c8\u304c\u4e88\u7d04\u53ef\u80fd\n- 409: \u30b9\u30ed\u30c3\u30c8\u304c\u4e88\u7d04\u4e0d\u53ef\uff08\u4ed6\u306e\u4e88\u7d04\u304c\u5165\u3063\u305f\u7b49\uff09", "operationId": "verify_slot_api_api_guest_therapists__therapist_id__verify_slot_get", "parameters": [{"name": "therapist_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Therapist Id"}}, {"name": "start_at", "in": "query", "required": true, "schema": {"type": "string", "format": "date-time", "description": "Slot start time (ISO format)", "title": "Start At"}, "description": "Slot start time (ISO format)"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SlotVerificationResponse"}}}}, "409": {"description": "Slot is no longer available", "content": {"application/json": {"example": {"detail": "slot_unavailable", "status": "blocked", "conflicted_at": "2025-01-01T12:00:00+09:00"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/auth/request-link": {"post": {"tags": ["auth"], "summary": "Request Link", "operationId": "request_link_api_auth_request_link_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/AuthRequestLink"}}}, "required": true}, "responses": {"202": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/auth/verify": {"post": {"tags": ["auth"], "summary": "Verify Token", "operationId": "verify_token_api_auth_verify_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/AuthVerifyRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/auth/logout": {"post": {"tags": ["auth"], "summary": "Logout", "operationId": "logout_api_auth_logout_post", "responses": {"204": {"description": "Successful Response"}}}}, "/api/auth/session": {"get": {"tags": ["auth"], "summary": "Session Status", "operationId": "session_status_api_auth_session_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AuthSessionStatus"}}}}}}}, "/api/auth/me": {"get": {"tags": ["auth"], "summary": "Get Me", "operationId": "get_me_api_auth_me_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserPublic"}}}}}}}, "/api/auth/me/site": {"get": {"tags": ["auth"], "summary": "Get Me Site", "operationId": "get_me_site_api_auth_me_site_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserPublic"}}}}}}}, "/api/auth/test-login": {"post": {"tags": ["auth"], "summary": "Test Login", "operationId": "test_login_api_auth_test_login_post", "parameters": [{"name": "X-Test-Auth-Secret", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Test-Auth-Secret"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AuthTestLoginRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/auth/line/login-url": {"post": {"tags": ["auth"], "summary": "Line Login Url", "description": "Generate LINE OAuth authorization URL.\n\nReturns a URL that the client should redirect the user to for LINE authentication.", "operationId": "line_login_url_api_auth_line_login_url_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/LineLoginUrlRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/LineLoginUrlResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/auth/line/callback": {"post": {"tags": ["auth"], "summary": "Line Callback", "description": "Handle LINE OAuth callback.\n\nExchanges authorization code for access token, fetches user profile,\nand creates/updates user session.", "operationId": "line_callback_api_auth_line_callback_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/LineCallbackRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/auth/line/status": {"get": {"tags": ["auth"], "summary": "Line Connection Status", "description": "Get LINE connection status for the current user.", "operationId": "line_connection_status_api_auth_line_status_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/LineConnectionStatusResponse"}}}}}}}, "/api/auth/google/login-url": {"post": {"tags": ["auth"], "summary": "Google Login Url", "description": "Generate Google OAuth authorization URL.\n\nReturns a URL that the client should redirect the user to for Google authentication.", "operationId": "google_login_url_api_auth_google_login_url_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/GoogleLoginUrlRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GoogleLoginUrlResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/auth/google/callback": {"post": {"tags": ["auth"], "summary": "Google Callback", "description": "Handle Google OAuth callback.\n\nExchanges authorization code for access token, fetches user profile,\nand creates/updates user session.", "operationId": "google_callback_api_auth_google_callback_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/GoogleCallbackRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/auth/google/status": {"get": {"tags": ["auth"], "summary": "Google Connection Status", "description": "Get Google connection status for the current user.", "operationId": "google_connection_status_api_auth_google_status_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GoogleConnectionStatusResponse"}}}}}}}, "/api/favorites": {"get": {"tags": ["favorites"], "summary": "List Favorites", "operationId": "list_favorites_api_favorites_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/FavoriteItem"}, "type": "array", "title": "Response List Favorites Api Favorites Get"}}}}}}, "post": {"tags": ["favorites"], "summary": "Add Favorite", "operationId": "add_favorite_api_favorites_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/FavoriteCreate"}}}, "required": true}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/FavoriteItem"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/favorites/{shop_id}": {"delete": {"tags": ["favorites"], "summary": "Remove Favorite", "operationId": "remove_favorite_api_favorites__shop_id__delete", "parameters": [{"name": "shop_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Shop Id"}}], "responses": {"204": {"description": "Successful Response"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/favorites/therapists": {"get": {"tags": ["favorites"], "summary": "List Therapist Favorites", "operationId": "list_therapist_favorites_api_favorites_therapists_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/TherapistFavoriteItem"}, "type": "array", "title": "Response List Therapist Favorites Api Favorites Therapists Get"}}}}}}, "post": {"tags": ["favorites"], "summary": "Add Therapist Favorite", "operationId": "add_therapist_favorite_api_favorites_therapists_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/TherapistFavoriteCreate"}}}, "required": true}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TherapistFavoriteItem"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/favorites/therapists/{therapist_id}": {"delete": {"tags": ["favorites"], "summary": "Remove Therapist Favorite", "operationId": "remove_therapist_favorite_api_favorites_therapists__therapist_id__delete", "parameters": [{"name": "therapist_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Therapist Id"}}], "responses": {"204": {"description": "Successful Response"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/async/ping": {"get": {"tags": ["async"], "summary": "Async Ping", "operationId": "async_ping_api_async_ping_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/async/jobs": {"post": {"tags": ["async"], "summary": "Enqueue Job", "description": "Legacy notification job endpoint - removed.", "operationId": "enqueue_job_api_async_jobs_post", "responses": {"202": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/line/webhook": {"post": {"tags": ["line"], "summary": "Line Webhook", "operationId": "line_webhook_api_line_webhook_post", "responses": {"204": {"description": "Successful Response"}}}}, "/api/line/ping": {"get": {"tags": ["line"], "summary": "Line Ping", "operationId": "line_ping_api_line_ping_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"additionalProperties": {"type": "string"}, "type": "object", "title": "Response Line Ping Api Line Ping Get"}}}}}}}, "/api/ops/queue": {"get": {"tags": ["ops"], "summary": "Get Ops Queue", "operationId": "get_ops_queue_api_ops_queue_get", "parameters": [{"name": "Authorization", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Authorization"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OpsQueueStats"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/ops/outbox": {"get": {"tags": ["ops"], "summary": "Get Ops Outbox", "operationId": "get_ops_outbox_api_ops_outbox_get", "parameters": [{"name": "Authorization", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Authorization"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OpsOutboxSummary"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/ops/slots": {"get": {"tags": ["ops"], "summary": "Get Ops Slots", "operationId": "get_ops_slots_api_ops_slots_get", "parameters": [{"name": "Authorization", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Authorization"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OpsSlotsSummary"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/ops/reservations/expire_holds": {"post": {"tags": ["ops"], "summary": "Expire Holds", "operationId": "expire_holds_api_ops_reservations_expire_holds_post", "parameters": [{"name": "Authorization", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Authorization"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ExpireHoldsResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/ops/stamp": {"post": {"tags": ["ops"], "summary": "Stamp Migration", "description": "Stamp the database with a specific alembic revision without running migrations.\n\nUse this to mark the database as being at a specific migration version\nwhen the actual schema is already in sync but alembic_version is missing.", "operationId": "stamp_migration_api_ops_stamp_post", "parameters": [{"name": "Authorization", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Authorization"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/StampRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MigrateResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/ops/migrate": {"post": {"tags": ["ops"], "summary": "Run Migrations", "description": "Run alembic database migrations.\n\nThis endpoint runs 'alembic upgrade head' to apply any pending migrations.\nProtected by the ops_api_token.", "operationId": "run_migrations_api_ops_migrate_post", "parameters": [{"name": "Authorization", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Authorization"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MigrateResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/ops/health/backup": {"get": {"tags": ["ops"], "summary": "Backup Health Check", "description": "Check the health of database backups.\n\nReturns unhealthy if:\n- No backups found\n- Latest backup is older than 48 hours\n- Cannot access backup storage", "operationId": "backup_health_check_api_ops_health_backup_get", "parameters": [{"name": "Authorization", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Authorization"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BackupHealthResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/ops/cache/metrics": {"get": {"tags": ["ops", "ops"], "summary": "Get Cache Metrics", "description": "Get cache performance metrics.", "operationId": "get_cache_metrics_api_ops_cache_metrics_get", "parameters": [{"name": "Authorization", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Authorization"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CacheMetrics"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/ops/cache/clear": {"post": {"tags": ["ops", "ops"], "summary": "Clear Caches", "description": "Clear cache(s).\n\nArgs:\n    cache_type: Which caches to clear (\"all\", \"memory\", \"redis\", or specific cache name)", "operationId": "clear_caches_api_ops_cache_clear_post", "parameters": [{"name": "cache_type", "in": "query", "required": false, "schema": {"type": "string", "default": "all", "title": "Cache Type"}}, {"name": "Authorization", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Authorization"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "additionalProperties": true, "title": "Response Clear Caches Api Ops Cache Clear Post"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/ops/cache/warm": {"post": {"tags": ["ops", "ops"], "summary": "Warm Cache", "description": "Warm up cache by pre-loading common data.\n\nArgs:\n    cache_type: Which cache to warm (\"shops\", \"therapists\", or \"all\")", "operationId": "warm_cache_api_ops_cache_warm_post", "parameters": [{"name": "cache_type", "in": "query", "required": false, "schema": {"type": "string", "default": "shops", "title": "Cache Type"}}, {"name": "Authorization", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Authorization"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "additionalProperties": true, "title": "Response Warm Cache Api Ops Cache Warm Post"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/shops/{shop_id}/managers": {"get": {"tags": ["dashboard-managers"], "summary": "List Shop Managers", "description": "List all managers for a shop.", "operationId": "list_shop_managers_api_dashboard_shops__shop_id__managers_get", "parameters": [{"name": "shop_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Shop Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShopManagerListResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["dashboard-managers"], "summary": "Add Shop Manager", "description": "Add a new manager to a shop. Only owners can add managers.", "operationId": "add_shop_manager_api_dashboard_shops__shop_id__managers_post", "parameters": [{"name": "shop_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Shop Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AddShopManagerRequest"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AddShopManagerResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/shops/{shop_id}/managers/{manager_id}": {"patch": {"tags": ["dashboard-managers"], "summary": "Update Shop Manager", "description": "Update a manager's role. Only owners can update managers.", "operationId": "update_shop_manager_api_dashboard_shops__shop_id__managers__manager_id__patch", "parameters": [{"name": "shop_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Shop Id"}}, {"name": "manager_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Manager Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UpdateShopManagerRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UpdateShopManagerResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["dashboard-managers"], "summary": "Delete Shop Manager", "description": "Remove a manager from a shop. Only owners can remove managers.", "operationId": "delete_shop_manager_api_dashboard_shops__shop_id__managers__manager_id__delete", "parameters": [{"name": "shop_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Shop Id"}}, {"name": "manager_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Manager Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DeleteShopManagerResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/shops/{profile_id}/notifications": {"get": {"tags": ["dashboard"], "summary": "Get Dashboard Notifications", "operationId": "get_dashboard_notifications_api_dashboard_shops__profile_id__notifications_get", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardNotificationSettingsResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["dashboard"], "summary": "Update Dashboard Notifications", "operationId": "update_dashboard_notifications_api_dashboard_shops__profile_id__notifications_put", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardNotificationSettingsUpdatePayload"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardNotificationSettingsResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/shops/{profile_id}/notifications/test": {"post": {"tags": ["dashboard"], "summary": "Test Dashboard Notifications", "operationId": "test_dashboard_notifications_api_dashboard_shops__profile_id__notifications_test_post", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardNotificationSettingsTestPayload"}}}}, "responses": {"204": {"description": "Successful Response"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/shops/{profile_id}/reservations": {"get": {"tags": ["dashboard"], "summary": "List Dashboard Reservations", "description": "List GuestReservations for a shop (dashboard view).", "operationId": "list_dashboard_reservations_api_dashboard_shops__profile_id__reservations_get", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}, {"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Status"}}, {"name": "sort", "in": "query", "required": false, "schema": {"type": "string", "pattern": "^(latest|date)$", "default": "latest", "title": "Sort"}}, {"name": "direction", "in": "query", "required": false, "schema": {"type": "string", "pattern": "^(asc|desc)$", "default": "desc", "title": "Direction"}}, {"name": "q", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Q"}}, {"name": "start", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Start"}}, {"name": "end", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "End"}}, {"name": "mode", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "pattern": "^(today|tomorrow)$"}, {"type": "null"}], "title": "Mode"}}, {"name": "cursor", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Cursor"}}, {"name": "cursor_direction", "in": "query", "required": false, "schema": {"type": "string", "pattern": "^(forward|backward)$", "default": "forward", "title": "Cursor Direction"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 100, "minimum": 1, "default": 20, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardReservationListResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/shops/{profile_id}/reservations/{reservation_id}": {"patch": {"tags": ["dashboard"], "summary": "Update Dashboard Reservation", "description": "Update a GuestReservation status from the dashboard.", "operationId": "update_dashboard_reservation_api_dashboard_shops__profile_id__reservations__reservation_id__patch", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}, {"name": "reservation_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Reservation Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardReservationUpdateRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardReservationItem"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/shops/{profile_id}/reviews": {"get": {"tags": ["dashboard-reviews"], "summary": "List Shop Reviews", "description": "List reviews for a specific shop with optional status filter.", "operationId": "list_shop_reviews_api_dashboard_shops__profile_id__reviews_get", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}, {"name": "status_filter", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Status Filter"}}, {"name": "page", "in": "query", "required": false, "schema": {"type": "integer", "default": 1, "title": "Page"}}, {"name": "page_size", "in": "query", "required": false, "schema": {"type": "integer", "default": 20, "title": "Page Size"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReviewListResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/shops/{profile_id}/reviews/stats": {"get": {"tags": ["dashboard-reviews"], "summary": "Get Shop Review Stats", "description": "Get review statistics for a shop.", "operationId": "get_shop_review_stats_api_dashboard_shops__profile_id__reviews_stats_get", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "additionalProperties": true, "title": "Response Get Shop Review Stats Api Dashboard Shops  Profile Id  Reviews Stats Get"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/shops/{profile_id}/reviews/{review_id}": {"get": {"tags": ["dashboard-reviews"], "summary": "Get Shop Review", "description": "Get a single review detail for a shop.", "operationId": "get_shop_review_api_dashboard_shops__profile_id__reviews__review_id__get", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}, {"name": "review_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Review Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReviewItem"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/shops/{profile_id}/reviews/{review_id}/status": {"put": {"tags": ["dashboard-reviews"], "summary": "Update Shop Review Status", "description": "Update the status of a review (moderate: approve/reject).", "operationId": "update_shop_review_status_api_dashboard_shops__profile_id__reviews__review_id__status_put", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}, {"name": "review_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Review Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReviewModerationRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ReviewItem"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/shops/{profile_id}/shifts": {"get": {"tags": ["dashboard-shifts"], "summary": "List Shifts", "operationId": "list_shifts_api_dashboard_shops__profile_id__shifts_get", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}, {"name": "therapist_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Therapist Id"}}, {"name": "date_from", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "title": "Date From"}}, {"name": "date_to", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "title": "Date To"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/ShiftItem"}, "title": "Response List Shifts Api Dashboard Shops  Profile Id  Shifts Get"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["dashboard-shifts"], "summary": "Create Shift", "operationId": "create_shift_api_dashboard_shops__profile_id__shifts_post", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShiftCreatePayload"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShiftItem"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/shops/{profile_id}/shifts/{shift_id}": {"get": {"tags": ["dashboard-shifts"], "summary": "Get Shift", "operationId": "get_shift_api_dashboard_shops__profile_id__shifts__shift_id__get", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}, {"name": "shift_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Shift Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShiftItem"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "patch": {"tags": ["dashboard-shifts"], "summary": "Update Shift", "operationId": "update_shift_api_dashboard_shops__profile_id__shifts__shift_id__patch", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}, {"name": "shift_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Shift Id"}}, {"name": "force", "in": "query", "required": false, "schema": {"type": "boolean", "description": "\u4e88\u7d04\u304c\u306f\u307f\u51fa\u3057\u3066\u3082\u5f37\u5236\u66f4\u65b0\u3059\u308b", "default": false, "title": "Force"}, "description": "\u4e88\u7d04\u304c\u306f\u307f\u51fa\u3057\u3066\u3082\u5f37\u5236\u66f4\u65b0\u3059\u308b"}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShiftUpdatePayload"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShiftItem"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["dashboard-shifts"], "summary": "Delete Shift", "operationId": "delete_shift_api_dashboard_shops__profile_id__shifts__shift_id__delete", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}, {"name": "shift_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Shift Id"}}, {"name": "force", "in": "query", "required": false, "schema": {"type": "boolean", "description": "\u4e88\u7d04\u304c\u3042\u3063\u3066\u3082\u5f37\u5236\u524a\u9664\u3059\u308b", "default": false, "title": "Force"}, "description": "\u4e88\u7d04\u304c\u3042\u3063\u3066\u3082\u5f37\u5236\u524a\u9664\u3059\u308b"}], "responses": {"204": {"description": "Successful Response"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/shops": {"get": {"tags": ["dashboard"], "summary": "List Dashboard Shops", "operationId": "list_dashboard_shops_api_dashboard_shops_get", "parameters": [{"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 20, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardShopListResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["dashboard"], "summary": "Create Dashboard Shop Profile", "operationId": "create_dashboard_shop_profile_api_dashboard_shops_post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardShopProfileCreatePayload"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardShopProfileResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/shops/{profile_id}/profile": {"get": {"tags": ["dashboard"], "summary": "Get Dashboard Shop Profile", "operationId": "get_dashboard_shop_profile_api_dashboard_shops__profile_id__profile_get", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardShopProfileResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["dashboard"], "summary": "Update Dashboard Shop Profile", "operationId": "update_dashboard_shop_profile_api_dashboard_shops__profile_id__profile_put", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardShopProfileUpdatePayload"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardShopProfileResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/shops/{profile_id}/photos/upload": {"post": {"tags": ["dashboard"], "summary": "Upload Shop Photo", "operationId": "upload_shop_photo_api_dashboard_shops__profile_id__photos_upload_post", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}], "requestBody": {"required": true, "content": {"multipart/form-data": {"schema": {"$ref": "#/components/schemas/Body_upload_shop_photo_api_dashboard_shops__profile_id__photos_upload_post"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ShopPhotoUploadResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/shops/{profile_id}/therapists": {"get": {"tags": ["dashboard-therapists"], "summary": "List Dashboard Therapists", "operationId": "list_dashboard_therapists_api_dashboard_shops__profile_id__therapists_get", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/DashboardTherapistSummary"}, "title": "Response List Dashboard Therapists Api Dashboard Shops  Profile Id  Therapists Get"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["dashboard-therapists"], "summary": "Create Dashboard Therapist", "operationId": "create_dashboard_therapist_api_dashboard_shops__profile_id__therapists_post", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardTherapistCreatePayload"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardTherapistDetail"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/shops/{profile_id}/therapists/{therapist_id}": {"get": {"tags": ["dashboard-therapists"], "summary": "Get Dashboard Therapist", "operationId": "get_dashboard_therapist_api_dashboard_shops__profile_id__therapists__therapist_id__get", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}, {"name": "therapist_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Therapist Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardTherapistDetail"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "patch": {"tags": ["dashboard-therapists"], "summary": "Update Dashboard Therapist", "operationId": "update_dashboard_therapist_api_dashboard_shops__profile_id__therapists__therapist_id__patch", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}, {"name": "therapist_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Therapist Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardTherapistUpdatePayload"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardTherapistDetail"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["dashboard-therapists"], "summary": "Delete Dashboard Therapist", "operationId": "delete_dashboard_therapist_api_dashboard_shops__profile_id__therapists__therapist_id__delete", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}, {"name": "therapist_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Therapist Id"}}], "responses": {"204": {"description": "Successful Response"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/shops/{profile_id}/therapists/photos/upload": {"post": {"tags": ["dashboard-therapists"], "summary": "Upload Dashboard Therapist Photo", "operationId": "upload_dashboard_therapist_photo_api_dashboard_shops__profile_id__therapists_photos_upload_post", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}], "requestBody": {"required": true, "content": {"multipart/form-data": {"schema": {"$ref": "#/components/schemas/Body_upload_dashboard_therapist_photo_api_dashboard_shops__profile_id__therapists_photos_upload_post"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardTherapistPhotoUploadResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/shops/{profile_id}/therapists:reorder": {"post": {"tags": ["dashboard-therapists"], "summary": "Reorder Dashboard Therapists", "operationId": "reorder_dashboard_therapists_api_dashboard_shops__profile_id__therapists_reorder_post", "parameters": [{"name": "profile_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Profile Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardTherapistReorderPayload"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/DashboardTherapistSummary"}, "title": "Response Reorder Dashboard Therapists Api Dashboard Shops  Profile Id  Therapists Reorder Post"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/therapists/{therapist_id}": {"get": {"tags": ["therapists"], "summary": "Get Therapist Detail", "description": "Get therapist detail with shop info and availability.\n\nQuery Parameters:\n    - shop_slug: Optional. Verify therapist belongs to this shop.\n    - entry_source: Track where user came from (shop_page, search, direct).\n    - days: Number of days to fetch availability (default 7).\n    - slot_granularity_minutes: Granularity of slots (default 30).\n\nError Codes:\n    - therapist_not_found: Therapist ID does not exist.\n    - shop_slug_mismatch: Therapist does not belong to specified shop.", "operationId": "get_therapist_detail_api_v1_therapists__therapist_id__get", "parameters": [{"name": "therapist_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Therapist Id"}}, {"name": "shop_slug", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "description": "Shop slug to verify affiliation", "title": "Shop Slug"}, "description": "Shop slug to verify affiliation"}, {"name": "entry_source", "in": "query", "required": false, "schema": {"type": "string", "description": "Entry source for tracking", "default": "direct", "title": "Entry Source"}, "description": "Entry source for tracking"}, {"name": "days", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 30, "minimum": 1, "description": "Number of days for availability", "default": 7, "title": "Days"}, "description": "Number of days for availability"}, {"name": "slot_granularity_minutes", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 120, "minimum": 15, "description": "Slot granularity in minutes", "default": 30, "title": "Slot Granularity Minutes"}, "description": "Slot granularity in minutes"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TherapistDetailResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/therapists/{therapist_id}/similar": {"get": {"tags": ["therapists"], "summary": "Get Similar Therapists", "description": "Get similar therapists based on tag similarity.\n\nReturns therapists similar to the given therapist, sorted by similarity score.\nIncludes availability information for today.\n\nQuery Parameters:\n    - limit: Number of similar therapists to return (default 6, max 20).\n\nError Codes:\n    - therapist_not_found: Therapist ID does not exist or is not published.", "operationId": "get_similar_therapists_api_v1_therapists__therapist_id__similar_get", "parameters": [{"name": "therapist_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Therapist Id"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 20, "minimum": 1, "description": "Number of similar therapists to return", "default": 6, "title": "Limit"}, "description": "Number of similar therapists to return"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SimilarTherapistsResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/push/subscribe": {"post": {"tags": ["push"], "summary": "Subscribe To Push", "description": "Subscribe to push notifications.\n\nArgs:\n    subscription: Push subscription information from browser\n    current_user: Current authenticated user\n    db: Database session\n\nReturns:\n    Success response", "operationId": "subscribe_to_push_api_push_subscribe_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/PushSubscriptionRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PushSubscriptionResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/push/unsubscribe": {"post": {"tags": ["push"], "summary": "Unsubscribe From Push", "description": "Unsubscribe from push notifications.\n\nArgs:\n    subscription: Push subscription information\n    current_user: Current authenticated user\n    db: Database session\n\nReturns:\n    Success response", "operationId": "unsubscribe_from_push_api_push_unsubscribe_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/PushSubscriptionRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PushSubscriptionResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/push/test": {"post": {"tags": ["push"], "summary": "Send Test Notification", "description": "Send a test push notification.\n\nArgs:\n    request: Test notification details\n    current_user: Current authenticated user\n    db: Database session\n\nReturns:\n    Success response", "operationId": "send_test_notification_api_push_test_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/TestNotificationRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PushSubscriptionResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/push/vapid-key": {"get": {"tags": ["push"], "summary": "Get Vapid Public Key", "description": "Get VAPID public key for push notifications.\n\nReturns:\n    VAPID public key", "operationId": "get_vapid_public_key_api_push_vapid_key_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"additionalProperties": {"type": "string"}, "type": "object", "title": "Response Get Vapid Public Key Api Push Vapid Key Get"}}}}}}}}, "components": {"schemas": {"AddShopManagerRequest": {"properties": {"email": {"type": "string", "format": "email", "title": "Email"}, "role": {"type": "string", "enum": ["owner", "manager", "staff"], "title": "Role", "default": "staff"}}, "type": "object", "required": ["email"], "title": "AddShopManagerRequest", "description": "Request to add a new shop manager."}, "AddShopManagerResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "user_id": {"type": "string", "format": "uuid", "title": "User Id"}, "email": {"type": "string", "title": "Email"}, "display_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Display Name"}, "role": {"type": "string", "title": "Role"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "user_created": {"type": "boolean", "title": "User Created"}}, "type": "object", "required": ["id", "user_id", "email", "display_name", "role", "created_at", "user_created"], "title": "AddShopManagerResponse", "description": "Response after adding a shop manager."}, "AdminGuestReservation": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "shop_id": {"type": "string", "format": "uuid", "title": "Shop Id"}, "shop_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Shop Name"}, "therapist_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Therapist Id"}, "therapist_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Therapist Name"}, "start_at": {"type": "string", "format": "date-time", "title": "Start At"}, "end_at": {"type": "string", "format": "date-time", "title": "End At"}, "status": {"type": "string", "title": "Status"}, "duration_minutes": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Duration Minutes"}, "course_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Course Id"}, "price": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Price"}, "payment_method": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Payment Method"}, "contact_info": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Contact Info"}, "notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes"}, "base_staff_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Base Staff Id"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "shop_id", "start_at", "end_at", "status", "created_at", "updated_at"], "title": "AdminGuestReservation"}, "AdminGuestReservationListResponse": {"properties": {"items": {"items": {"$ref": "#/components/schemas/AdminGuestReservation"}, "type": "array", "title": "Items"}, "summary": {"additionalProperties": {"type": "integer"}, "type": "object", "title": "Summary"}, "total": {"type": "integer", "title": "Total"}, "page": {"type": "integer", "title": "Page"}, "limit": {"type": "integer", "title": "Limit"}, "total_pages": {"type": "integer", "title": "Total Pages"}}, "type": "object", "required": ["items", "summary", "total", "page", "limit", "total_pages"], "title": "AdminGuestReservationListResponse"}, "AdminGuestReservationStatusPayload": {"properties": {"status": {"type": "string", "title": "Status"}, "reason": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Reason"}}, "type": "object", "required": ["status"], "title": "AdminGuestReservationStatusPayload"}, "AuthRequestLink": {"properties": {"email": {"type": "string", "format": "email", "title": "Email"}, "scope": {"type": "string", "enum": ["dashboard", "site"], "title": "Scope", "default": "dashboard"}}, "type": "object", "required": ["email"], "title": "AuthRequestLink"}, "AuthSessionStatus": {"properties": {"authenticated": {"type": "boolean", "title": "Authenticated"}, "site_authenticated": {"type": "boolean", "title": "Site Authenticated", "default": false}, "dashboard_authenticated": {"type": "boolean", "title": "Dashboard Authenticated", "default": false}, "scopes": {"items": {"type": "string"}, "type": "array", "title": "Scopes"}, "user": {"anyOf": [{"$ref": "#/components/schemas/UserPublic"}, {"type": "null"}]}}, "type": "object", "required": ["authenticated"], "title": "AuthSessionStatus"}, "AuthTestLoginRequest": {"properties": {"email": {"type": "string", "format": "email", "title": "Email"}, "display_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Display Name"}, "scope": {"type": "string", "enum": ["dashboard", "site"], "title": "Scope", "default": "site"}}, "type": "object", "required": ["email"], "title": "AuthTestLoginRequest"}, "AuthVerifyRequest": {"properties": {"token": {"type": "string", "title": "Token"}}, "type": "object", "required": ["token"], "title": "AuthVerifyRequest"}, "AvailabilityCalendar": {"properties": {"shop_id": {"type": "string", "format": "uuid", "title": "Shop Id"}, "generated_at": {"type": "string", "format": "date-time", "title": "Generated At"}, "days": {"items": {"$ref": "#/components/schemas/AvailabilityDay"}, "type": "array", "title": "Days"}}, "type": "object", "required": ["shop_id", "generated_at", "days"], "title": "AvailabilityCalendar"}, "AvailabilityCreate": {"properties": {"profile_id": {"type": "string", "format": "uuid", "title": "Profile Id"}, "date": {"type": "string", "format": "date", "title": "Date"}, "slots": {"anyOf": [{"items": {"$ref": "#/components/schemas/AvailabilitySlotIn"}, "type": "array"}, {"type": "null"}], "title": "Slots"}}, "type": "object", "required": ["profile_id", "date"], "title": "AvailabilityCreate"}, "AvailabilityDay": {"properties": {"date": {"type": "string", "format": "date", "title": "Date"}, "is_today": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Today"}, "slots": {"items": {"$ref": "#/components/schemas/app__schemas__shop__AvailabilitySlot"}, "type": "array", "title": "Slots"}}, "type": "object", "required": ["date", "slots"], "title": "AvailabilityDay"}, "AvailabilityInfo": {"properties": {"slots": {"items": {"$ref": "#/components/schemas/AvailabilitySlotInfo"}, "type": "array", "title": "Slots"}, "phase": {"type": "string", "title": "Phase", "default": "explore"}, "window": {"$ref": "#/components/schemas/AvailabilityWindow"}}, "type": "object", "required": ["slots", "window"], "title": "AvailabilityInfo"}, "AvailabilitySlotIn": {"properties": {"start_at": {"type": "string", "format": "date-time", "title": "Start At"}, "end_at": {"type": "string", "format": "date-time", "title": "End At"}, "status": {"type": "string", "enum": ["open", "blocked"], "title": "Status", "default": "open"}, "staff_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Staff Id"}, "menu_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Menu Id"}}, "type": "object", "required": ["start_at", "end_at"], "title": "AvailabilitySlotIn"}, "AvailabilitySlotInfo": {"properties": {"starts_at": {"type": "string", "title": "Starts At"}, "ends_at": {"type": "string", "title": "Ends At"}, "is_available": {"type": "boolean", "title": "Is Available"}, "rejected_reasons": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Rejected Reasons"}}, "type": "object", "required": ["starts_at", "ends_at", "is_available"], "title": "AvailabilitySlotInfo"}, "AvailabilitySlotsResponse": {"properties": {"therapist_id": {"type": "string", "format": "uuid", "title": "Therapist Id"}, "date": {"type": "string", "format": "date", "title": "Date"}, "slots": {"items": {"$ref": "#/components/schemas/app__domains__site__therapist_availability__schemas__AvailabilitySlot"}, "type": "array", "title": "Slots"}}, "type": "object", "required": ["therapist_id", "date", "slots"], "title": "AvailabilitySlotsResponse"}, "AvailabilitySummaryItem": {"properties": {"date": {"type": "string", "format": "date", "title": "Date"}, "has_available": {"type": "boolean", "title": "Has Available"}}, "type": "object", "required": ["date", "has_available"], "title": "AvailabilitySummaryItem"}, "AvailabilitySummaryResponse": {"properties": {"therapist_id": {"type": "string", "format": "uuid", "title": "Therapist Id"}, "items": {"items": {"$ref": "#/components/schemas/AvailabilitySummaryItem"}, "type": "array", "title": "Items"}}, "type": "object", "required": ["therapist_id", "items"], "title": "AvailabilitySummaryResponse"}, "AvailabilityUpsert": {"properties": {"date": {"type": "string", "format": "date", "title": "Date"}, "slots": {"anyOf": [{"items": {"$ref": "#/components/schemas/AvailabilitySlotIn"}, "type": "array"}, {"type": "null"}], "title": "Slots"}}, "type": "object", "required": ["date"], "title": "AvailabilityUpsert"}, "AvailabilityWindow": {"properties": {"days": {"type": "integer", "title": "Days"}, "slot_granularity_minutes": {"type": "integer", "title": "Slot Granularity Minutes"}}, "type": "object", "required": ["days", "slot_granularity_minutes"], "title": "AvailabilityWindow"}, "BackupHealthResponse": {"properties": {"status": {"type": "string", "title": "Status"}, "message": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Message"}, "last_backup": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Last Backup"}, "backup_count": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Backup Count"}, "latest_size": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Latest Size"}}, "type": "object", "required": ["status"], "title": "BackupHealthResponse"}, "BatchEmbeddingRequest": {"properties": {"batch_size": {"type": "integer", "title": "Batch Size", "description": "Number of therapists to process in each batch", "default": 50}, "max_total": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Max Total", "description": "Maximum total number to process"}}, "type": "object", "title": "BatchEmbeddingRequest"}, "BatchEmbeddingResponse": {"properties": {"status": {"type": "string", "title": "Status"}, "message": {"type": "string", "title": "Message"}, "task_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Task Id"}}, "type": "object", "required": ["status", "message"], "title": "BatchEmbeddingResponse"}, "Body_guest_matching_search_api_guest_matching_search_get": {"properties": {"mood_pref": {"anyOf": [{"additionalProperties": {"type": "number"}, "type": "object"}, {"type": "null"}], "title": "Mood Pref"}, "talk_pref": {"anyOf": [{"additionalProperties": {"type": "number"}, "type": "object"}, {"type": "null"}], "title": "Talk Pref"}, "style_pref": {"anyOf": [{"additionalProperties": {"type": "number"}, "type": "object"}, {"type": "null"}], "title": "Style Pref"}, "look_pref": {"anyOf": [{"additionalProperties": {"type": "number"}, "type": "object"}, {"type": "null"}], "title": "Look Pref"}, "mood_tags": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Mood Tags"}, "style_tags": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Style Tags"}, "look_types": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Look Types"}, "contact_styles": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Contact Styles"}, "hobby_tags": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Hobby Tags"}}, "type": "object", "title": "Body_guest_matching_search_api_guest_matching_search_get"}, "Body_guest_matching_search_api_guest_matching_search_post": {"properties": {"mood_pref": {"anyOf": [{"additionalProperties": {"type": "number"}, "type": "object"}, {"type": "null"}], "title": "Mood Pref"}, "talk_pref": {"anyOf": [{"additionalProperties": {"type": "number"}, "type": "object"}, {"type": "null"}], "title": "Talk Pref"}, "style_pref": {"anyOf": [{"additionalProperties": {"type": "number"}, "type": "object"}, {"type": "null"}], "title": "Style Pref"}, "look_pref": {"anyOf": [{"additionalProperties": {"type": "number"}, "type": "object"}, {"type": "null"}], "title": "Look Pref"}, "mood_tags": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Mood Tags"}, "style_tags": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Style Tags"}, "look_types": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Look Types"}, "contact_styles": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Contact Styles"}, "hobby_tags": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Hobby Tags"}}, "type": "object", "title": "Body_guest_matching_search_api_guest_matching_search_post"}, "Body_shifts_rebuild_admin_htmx_shifts_rebuild_post": {"properties": {"therapist_id": {"type": "string", "title": "Therapist Id"}, "date": {"type": "string", "title": "Date"}}, "type": "object", "required": ["therapist_id", "date"], "title": "Body_shifts_rebuild_admin_htmx_shifts_rebuild_post"}, "Body_upload_dashboard_therapist_photo_api_dashboard_shops__profile_id__therapists_photos_upload_post": {"properties": {"file": {"type": "string", "format": "binary", "title": "File"}}, "type": "object", "required": ["file"], "title": "Body_upload_dashboard_therapist_photo_api_dashboard_shops__profile_id__therapists_photos_upload_post"}, "Body_upload_shop_photo_api_dashboard_shops__profile_id__photos_upload_post": {"properties": {"file": {"type": "string", "format": "binary", "title": "File"}}, "type": "object", "required": ["file"], "title": "Body_upload_shop_photo_api_dashboard_shops__profile_id__photos_upload_post"}, "BreakdownInfo": {"properties": {"base_staff_similarity": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Base Staff Similarity"}, "tag_similarity": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Tag Similarity"}, "price_match": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Price Match"}, "age_match": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Age Match"}, "photo_similarity": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Photo Similarity"}, "availability_boost": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Availability Boost"}, "score": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Score"}}, "type": "object", "title": "BreakdownInfo"}, "BulkAvailabilityInput": {"properties": {"date": {"type": "string", "format": "date", "title": "Date"}, "slots": {"anyOf": [{"items": {"$ref": "#/components/schemas/AvailabilitySlotIn"}, "type": "array"}, {"type": "null"}], "title": "Slots"}}, "type": "object", "required": ["date"], "title": "BulkAvailabilityInput"}, "BulkDiaryInput": {"properties": {"external_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "External Id"}, "title": {"type": "string", "title": "Title"}, "body": {"type": "string", "title": "Body"}, "photos": {"items": {"type": "string"}, "type": "array", "title": "Photos"}, "hashtags": {"items": {"type": "string"}, "type": "array", "title": "Hashtags"}, "status": {"type": "string", "enum": ["mod", "published", "hidden"], "title": "Status", "default": "published"}, "created_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Created At"}}, "type": "object", "required": ["title", "body"], "title": "BulkDiaryInput"}, "BulkMenuInput": {"properties": {"id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Id"}, "name": {"type": "string", "title": "Name"}, "price": {"type": "integer", "title": "Price"}, "duration_minutes": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Duration Minutes"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "tags": {"items": {"type": "string"}, "type": "array", "title": "Tags"}, "is_reservable_online": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Reservable Online", "default": true}, "external_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "External Id"}}, "type": "object", "required": ["name", "price"], "title": "BulkMenuInput"}, "BulkReviewInput": {"properties": {"external_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "External Id"}, "score": {"type": "integer", "maximum": 5.0, "minimum": 1.0, "title": "Score"}, "title": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Title"}, "body": {"type": "string", "title": "Body"}, "author_alias": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Author Alias"}, "visited_at": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "title": "Visited At"}, "status": {"type": "string", "enum": ["pending", "published", "rejected"], "title": "Status", "default": "published"}, "aspects": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Aspects"}}, "type": "object", "required": ["score", "body"], "title": "BulkReviewInput"}, "BulkShopContentItem": {"properties": {"shop_id": {"type": "string", "format": "uuid", "title": "Shop Id"}, "service_tags": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Service Tags"}, "photos": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Photos"}, "menus": {"anyOf": [{"items": {"$ref": "#/components/schemas/BulkMenuInput"}, "type": "array"}, {"type": "null"}], "title": "Menus"}, "reviews": {"anyOf": [{"items": {"$ref": "#/components/schemas/BulkReviewInput"}, "type": "array"}, {"type": "null"}], "title": "Reviews"}, "diaries": {"anyOf": [{"items": {"$ref": "#/components/schemas/BulkDiaryInput"}, "type": "array"}, {"type": "null"}], "title": "Diaries"}, "availability": {"anyOf": [{"items": {"$ref": "#/components/schemas/BulkAvailabilityInput"}, "type": "array"}, {"type": "null"}], "title": "Availability"}, "contact": {"anyOf": [{"$ref": "#/components/schemas/ShopContactUpdate"}, {"type": "null"}]}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "catch_copy": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Catch Copy"}, "address": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address"}}, "type": "object", "required": ["shop_id"], "title": "BulkShopContentItem"}, "BulkShopContentRequest": {"properties": {"shops": {"items": {"$ref": "#/components/schemas/BulkShopContentItem"}, "type": "array", "title": "Shops"}}, "type": "object", "required": ["shops"], "title": "BulkShopContentRequest"}, "BulkShopContentResponse": {"properties": {"processed": {"items": {"$ref": "#/components/schemas/BulkShopIngestResult"}, "type": "array", "title": "Processed"}, "errors": {"items": {"additionalProperties": true, "type": "object"}, "type": "array", "title": "Errors"}}, "type": "object", "title": "BulkShopContentResponse"}, "BulkShopIngestResult": {"properties": {"shop_id": {"type": "string", "format": "uuid", "title": "Shop Id"}, "photos_updated": {"type": "boolean", "title": "Photos Updated", "default": false}, "menus_updated": {"type": "boolean", "title": "Menus Updated", "default": false}, "reviews_created": {"type": "integer", "title": "Reviews Created", "default": 0}, "reviews_updated": {"type": "integer", "title": "Reviews Updated", "default": 0}, "diaries_created": {"type": "integer", "title": "Diaries Created", "default": 0}, "diaries_updated": {"type": "integer", "title": "Diaries Updated", "default": 0}, "availability_upserts": {"type": "integer", "title": "Availability Upserts", "default": 0}}, "type": "object", "required": ["shop_id"], "title": "BulkShopIngestResult"}, "CacheMetrics": {"properties": {"memory_caches": {"items": {"$ref": "#/components/schemas/CacheStats"}, "type": "array", "title": "Memory Caches"}, "redis_connected": {"type": "boolean", "title": "Redis Connected"}, "redis_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Redis Url"}}, "type": "object", "required": ["memory_caches", "redis_connected"], "title": "CacheMetrics", "description": "Overall cache metrics."}, "CacheStats": {"properties": {"name": {"type": "string", "title": "Name"}, "size": {"type": "integer", "title": "Size"}, "max_size": {"type": "integer", "title": "Max Size"}, "ttl_seconds": {"type": "integer", "title": "Ttl Seconds"}, "hit_rate": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Hit Rate"}, "type": {"type": "string", "title": "Type", "default": "memory"}}, "type": "object", "required": ["name", "size", "max_size", "ttl_seconds"], "title": "CacheStats", "description": "Cache statistics model."}, "ContactInfo": {"properties": {"phone": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Phone"}, "line_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Line Id"}, "website_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Website Url"}}, "type": "object", "title": "ContactInfo"}, "DashboardNotificationChannelEmail": {"properties": {"enabled": {"type": "boolean", "title": "Enabled", "default": false}, "recipients": {"items": {"type": "string"}, "type": "array", "title": "Recipients"}}, "type": "object", "title": "DashboardNotificationChannelEmail"}, "DashboardNotificationChannelLine": {"properties": {"enabled": {"type": "boolean", "title": "Enabled", "default": false}, "token": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Token"}}, "type": "object", "title": "DashboardNotificationChannelLine"}, "DashboardNotificationChannelSlack": {"properties": {"enabled": {"type": "boolean", "title": "Enabled", "default": false}, "webhook_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Webhook Url"}}, "type": "object", "title": "DashboardNotificationChannelSlack"}, "DashboardNotificationChannels": {"properties": {"email": {"$ref": "#/components/schemas/DashboardNotificationChannelEmail"}, "line": {"$ref": "#/components/schemas/DashboardNotificationChannelLine"}, "slack": {"$ref": "#/components/schemas/DashboardNotificationChannelSlack"}}, "type": "object", "required": ["email", "line", "slack"], "title": "DashboardNotificationChannels"}, "DashboardNotificationSettingsResponse": {"properties": {"profile_id": {"type": "string", "format": "uuid", "title": "Profile Id"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}, "trigger_status": {"items": {"type": "string", "enum": ["pending", "confirmed", "declined", "cancelled", "expired"]}, "type": "array", "title": "Trigger Status"}, "channels": {"$ref": "#/components/schemas/DashboardNotificationChannels"}}, "type": "object", "required": ["profile_id", "updated_at", "channels"], "title": "DashboardNotificationSettingsResponse"}, "DashboardNotificationSettingsTestPayload": {"properties": {"trigger_status": {"items": {"type": "string", "enum": ["pending", "confirmed", "declined", "cancelled", "expired"]}, "type": "array", "title": "Trigger Status"}, "channels": {"$ref": "#/components/schemas/DashboardNotificationChannels"}}, "type": "object", "required": ["trigger_status", "channels"], "title": "DashboardNotificationSettingsTestPayload"}, "DashboardNotificationSettingsUpdatePayload": {"properties": {"updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}, "trigger_status": {"items": {"type": "string", "enum": ["pending", "confirmed", "declined", "cancelled", "expired"]}, "type": "array", "title": "Trigger Status"}, "channels": {"$ref": "#/components/schemas/DashboardNotificationChannels"}}, "type": "object", "required": ["updated_at", "trigger_status", "channels"], "title": "DashboardNotificationSettingsUpdatePayload"}, "DashboardReservationItem": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "status": {"type": "string", "enum": ["pending", "confirmed", "declined", "cancelled", "expired"], "title": "Status"}, "channel": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Channel"}, "desired_start": {"type": "string", "format": "date-time", "title": "Desired Start"}, "desired_end": {"type": "string", "format": "date-time", "title": "Desired End"}, "customer_name": {"type": "string", "title": "Customer Name"}, "customer_phone": {"type": "string", "title": "Customer Phone"}, "customer_email": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Customer Email"}, "notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes"}, "marketing_opt_in": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Marketing Opt In"}, "staff_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Staff Id"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}, "approval_decision": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Approval Decision"}, "approval_decided_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Approval Decided At"}, "approval_decided_by": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Approval Decided By"}, "reminder_scheduled_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Reminder Scheduled At"}, "preferred_slots": {"items": {"$ref": "#/components/schemas/DashboardReservationPreferredSlot"}, "type": "array", "title": "Preferred Slots"}}, "type": "object", "required": ["id", "status", "desired_start", "desired_end", "customer_name", "customer_phone", "created_at", "updated_at"], "title": "DashboardReservationItem"}, "DashboardReservationListResponse": {"properties": {"profile_id": {"type": "string", "format": "uuid", "title": "Profile Id"}, "total": {"type": "integer", "title": "Total"}, "reservations": {"items": {"$ref": "#/components/schemas/DashboardReservationItem"}, "type": "array", "title": "Reservations"}, "next_cursor": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Next Cursor"}, "prev_cursor": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Prev Cursor"}}, "type": "object", "required": ["profile_id", "total"], "title": "DashboardReservationListResponse"}, "DashboardReservationPreferredSlot": {"properties": {"desired_start": {"type": "string", "format": "date-time", "title": "Desired Start"}, "desired_end": {"type": "string", "format": "date-time", "title": "Desired End"}, "status": {"type": "string", "enum": ["open", "tentative", "blocked"], "title": "Status"}}, "type": "object", "required": ["desired_start", "desired_end", "status"], "title": "DashboardReservationPreferredSlot"}, "DashboardReservationUpdateRequest": {"properties": {"status": {"type": "string", "enum": ["pending", "confirmed", "declined", "cancelled", "expired"], "title": "Status"}, "note": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Note"}}, "type": "object", "required": ["status"], "title": "DashboardReservationUpdateRequest"}, "DashboardShopContact": {"properties": {"phone": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Phone"}, "line_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Line Id"}, "website_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Website Url"}, "reservation_form_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Reservation Form Url"}, "business_hours": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Business Hours"}}, "type": "object", "title": "DashboardShopContact"}, "DashboardShopListResponse": {"properties": {"shops": {"items": {"$ref": "#/components/schemas/DashboardShopSummaryItem"}, "type": "array", "title": "Shops"}}, "type": "object", "title": "DashboardShopListResponse"}, "DashboardShopMenu": {"properties": {"id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Id"}, "name": {"type": "string", "title": "Name"}, "price": {"type": "integer", "title": "Price"}, "duration_minutes": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Duration Minutes"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "tags": {"items": {"type": "string"}, "type": "array", "title": "Tags"}, "is_reservable_online": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Reservable Online", "default": true}}, "type": "object", "required": ["name", "price"], "title": "DashboardShopMenu"}, "DashboardShopProfileCreatePayload": {"properties": {"name": {"type": "string", "title": "Name"}, "area": {"type": "string", "title": "Area"}, "price_min": {"type": "integer", "minimum": 0.0, "title": "Price Min"}, "price_max": {"type": "integer", "minimum": 0.0, "title": "Price Max"}, "service_type": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Service Type"}, "service_tags": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Service Tags"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "catch_copy": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Catch Copy"}, "address": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address"}, "photos": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Photos"}, "contact": {"anyOf": [{"$ref": "#/components/schemas/DashboardShopContact"}, {"type": "null"}]}}, "type": "object", "required": ["name", "area", "price_min", "price_max"], "title": "DashboardShopProfileCreatePayload"}, "DashboardShopProfileResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "slug": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Slug"}, "name": {"type": "string", "title": "Name"}, "store_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Store Name"}, "area": {"type": "string", "title": "Area"}, "price_min": {"type": "integer", "title": "Price Min"}, "price_max": {"type": "integer", "title": "Price Max"}, "service_type": {"type": "string", "title": "Service Type"}, "service_tags": {"items": {"type": "string"}, "type": "array", "title": "Service Tags"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "catch_copy": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Catch Copy"}, "address": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address"}, "photos": {"items": {"type": "string"}, "type": "array", "title": "Photos"}, "contact": {"anyOf": [{"$ref": "#/components/schemas/DashboardShopContact"}, {"type": "null"}]}, "menus": {"items": {"$ref": "#/components/schemas/DashboardShopMenu"}, "type": "array", "title": "Menus"}, "staff": {"items": {"$ref": "#/components/schemas/DashboardShopStaff"}, "type": "array", "title": "Staff"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}, "status": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Status"}, "availability_calendar": {"anyOf": [{"$ref": "#/components/schemas/AvailabilityCalendar"}, {"type": "null"}]}, "default_slot_duration_minutes": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Default Slot Duration Minutes"}}, "type": "object", "required": ["id", "name", "area", "price_min", "price_max", "service_type", "updated_at"], "title": "DashboardShopProfileResponse"}, "DashboardShopProfileUpdatePayload": {"properties": {"updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}, "name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "slug": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Slug"}, "area": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Area"}, "price_min": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Price Min"}, "price_max": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Price Max"}, "service_type": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Service Type"}, "service_tags": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Service Tags"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "catch_copy": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Catch Copy"}, "address": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address"}, "photos": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Photos"}, "contact": {"anyOf": [{"$ref": "#/components/schemas/DashboardShopContact"}, {"type": "null"}]}, "menus": {"anyOf": [{"items": {"$ref": "#/components/schemas/DashboardShopMenu"}, "type": "array"}, {"type": "null"}], "title": "Menus"}, "staff": {"anyOf": [{"items": {"$ref": "#/components/schemas/DashboardShopStaff"}, "type": "array"}, {"type": "null"}], "title": "Staff"}, "status": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Status"}, "default_slot_duration_minutes": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Default Slot Duration Minutes"}}, "type": "object", "required": ["updated_at"], "title": "DashboardShopProfileUpdatePayload"}, "DashboardShopStaff": {"properties": {"id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Id"}, "name": {"type": "string", "title": "Name"}, "alias": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Alias"}, "headline": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Headline"}, "specialties": {"items": {"type": "string"}, "type": "array", "title": "Specialties"}}, "type": "object", "required": ["name"], "title": "DashboardShopStaff"}, "DashboardShopSummaryItem": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "area": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Area"}, "status": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Status"}, "updated_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Updated At"}}, "type": "object", "required": ["id", "name"], "title": "DashboardShopSummaryItem"}, "DashboardTherapistCreatePayload": {"properties": {"name": {"type": "string", "title": "Name"}, "alias": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Alias"}, "headline": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Headline"}, "biography": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Biography"}, "specialties": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Specialties"}, "qualifications": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Qualifications"}, "experience_years": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Experience Years"}, "photo_urls": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Photo Urls"}, "is_booking_enabled": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Booking Enabled", "default": true}}, "type": "object", "required": ["name"], "title": "DashboardTherapistCreatePayload"}, "DashboardTherapistDetail": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "alias": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Alias"}, "headline": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Headline"}, "status": {"type": "string", "enum": ["draft", "published", "archived"], "title": "Status"}, "display_order": {"type": "integer", "title": "Display Order"}, "is_booking_enabled": {"type": "boolean", "title": "Is Booking Enabled"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}, "photo_urls": {"items": {"type": "string"}, "type": "array", "title": "Photo Urls"}, "specialties": {"items": {"type": "string"}, "type": "array", "title": "Specialties"}, "biography": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Biography"}, "qualifications": {"items": {"type": "string"}, "type": "array", "title": "Qualifications"}, "experience_years": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Experience Years"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["id", "name", "status", "display_order", "is_booking_enabled", "updated_at", "created_at"], "title": "DashboardTherapistDetail"}, "DashboardTherapistPhotoUploadResponse": {"properties": {"url": {"type": "string", "title": "Url"}, "filename": {"type": "string", "title": "Filename"}, "content_type": {"type": "string", "title": "Content Type"}, "size": {"type": "integer", "minimum": 0.0, "title": "Size"}}, "type": "object", "required": ["url", "filename", "content_type", "size"], "title": "DashboardTherapistPhotoUploadResponse"}, "DashboardTherapistReorderItem": {"properties": {"therapist_id": {"type": "string", "format": "uuid", "title": "Therapist Id"}, "display_order": {"type": "integer", "minimum": 0.0, "title": "Display Order"}}, "type": "object", "required": ["therapist_id", "display_order"], "title": "DashboardTherapistReorderItem"}, "DashboardTherapistReorderPayload": {"properties": {"items": {"items": {"$ref": "#/components/schemas/DashboardTherapistReorderItem"}, "type": "array", "title": "Items"}}, "type": "object", "required": ["items"], "title": "DashboardTherapistReorderPayload"}, "DashboardTherapistSummary": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "alias": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Alias"}, "headline": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Headline"}, "status": {"type": "string", "enum": ["draft", "published", "archived"], "title": "Status"}, "display_order": {"type": "integer", "title": "Display Order"}, "is_booking_enabled": {"type": "boolean", "title": "Is Booking Enabled"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}, "photo_urls": {"items": {"type": "string"}, "type": "array", "title": "Photo Urls"}, "specialties": {"items": {"type": "string"}, "type": "array", "title": "Specialties"}}, "type": "object", "required": ["id", "name", "status", "display_order", "is_booking_enabled", "updated_at"], "title": "DashboardTherapistSummary"}, "DashboardTherapistUpdatePayload": {"properties": {"updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}, "name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "alias": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Alias"}, "headline": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Headline"}, "biography": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Biography"}, "specialties": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Specialties"}, "qualifications": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Qualifications"}, "experience_years": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Experience Years"}, "photo_urls": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Photo Urls"}, "status": {"anyOf": [{"type": "string", "enum": ["draft", "published", "archived"]}, {"type": "null"}], "title": "Status"}, "is_booking_enabled": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Booking Enabled"}, "display_order": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Display Order"}}, "type": "object", "required": ["updated_at"], "title": "DashboardTherapistUpdatePayload"}, "DeleteShopManagerResponse": {"properties": {"deleted": {"type": "boolean", "title": "Deleted"}, "message": {"type": "string", "title": "Message"}}, "type": "object", "required": ["deleted", "message"], "title": "DeleteShopManagerResponse", "description": "Response after deleting a shop manager."}, "DiscountIn": {"properties": {"label": {"type": "string", "title": "Label"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "expires_at": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Expires At"}}, "type": "object", "required": ["label"], "title": "DiscountIn"}, "EmbeddingGenerateRequest": {"properties": {"therapist_ids": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Therapist Ids", "description": "Specific therapist IDs to regenerate. If None, generates for all without embeddings."}, "force": {"type": "boolean", "title": "Force", "description": "Force regeneration even if embeddings already exist", "default": false}}, "type": "object", "title": "EmbeddingGenerateRequest"}, "EmbeddingGenerateResponse": {"properties": {"processed": {"type": "integer", "title": "Processed"}, "success": {"type": "integer", "title": "Success"}, "failed": {"type": "integer", "title": "Failed"}, "results": {"additionalProperties": {"type": "boolean"}, "type": "object", "title": "Results"}}, "type": "object", "required": ["processed", "success", "failed", "results"], "title": "EmbeddingGenerateResponse"}, "ExpireHoldsResponse": {"properties": {"expired": {"type": "integer", "title": "Expired"}, "now": {"type": "string", "format": "date-time", "title": "Now"}}, "type": "object", "required": ["expired", "now"], "title": "ExpireHoldsResponse"}, "FavoriteCreate": {"properties": {"shop_id": {"type": "string", "format": "uuid", "title": "Shop Id"}}, "type": "object", "required": ["shop_id"], "title": "FavoriteCreate"}, "FavoriteItem": {"properties": {"shop_id": {"type": "string", "format": "uuid", "title": "Shop Id"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["shop_id", "created_at"], "title": "FavoriteItem"}, "GoogleCallbackRequest": {"properties": {"code": {"type": "string", "title": "Code"}, "state": {"type": "string", "title": "State"}, "callback_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Callback Url"}, "scope": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Scope"}}, "type": "object", "required": ["code", "state"], "title": "GoogleCallbackRequest"}, "GoogleConnectionStatusResponse": {"properties": {"connected": {"type": "boolean", "title": "Connected"}, "email": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Email"}, "display_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Display Name"}}, "type": "object", "required": ["connected"], "title": "GoogleConnectionStatusResponse"}, "GoogleLoginUrlRequest": {"properties": {"redirect_path": {"type": "string", "title": "Redirect Path", "default": "/therapist/settings"}, "callback_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Callback Url"}}, "type": "object", "title": "GoogleLoginUrlRequest"}, "GoogleLoginUrlResponse": {"properties": {"login_url": {"type": "string", "title": "Login Url"}, "state": {"type": "string", "title": "State"}}, "type": "object", "required": ["login_url", "state"], "title": "GoogleLoginUrlResponse"}, "GuestReservationHoldPayload": {"properties": {"shop_id": {"type": "string", "format": "uuid", "title": "Shop Id"}, "therapist_id": {"type": "string", "format": "uuid", "title": "Therapist Id"}, "start_at": {"type": "string", "format": "date-time", "title": "Start At"}, "end_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "End At"}, "duration_minutes": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Duration Minutes"}, "planned_extension_minutes": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Planned Extension Minutes", "default": 0}, "course_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Course Id"}, "price": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Price"}, "payment_method": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Payment Method"}, "contact_info": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Contact Info"}, "guest_token": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Guest Token"}, "user_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "User Id"}, "notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes"}, "base_staff_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Base Staff Id"}}, "type": "object", "required": ["shop_id", "therapist_id", "start_at"], "title": "GuestReservationHoldPayload"}, "GuestReservationPayload": {"properties": {"shop_id": {"type": "string", "format": "uuid", "title": "Shop Id"}, "therapist_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Therapist Id"}, "start_at": {"type": "string", "format": "date-time", "title": "Start At"}, "end_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "End At"}, "duration_minutes": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Duration Minutes"}, "planned_extension_minutes": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Planned Extension Minutes", "default": 0}, "course_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Course Id"}, "price": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Price"}, "payment_method": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Payment Method"}, "contact_info": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Contact Info"}, "guest_token": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Guest Token"}, "user_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "User Id"}, "notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes"}, "base_staff_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Base Staff Id"}}, "type": "object", "required": ["shop_id", "start_at"], "title": "GuestReservationPayload"}, "GuestReservationResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "status": {"type": "string", "title": "Status"}, "shop_id": {"type": "string", "format": "uuid", "title": "Shop Id"}, "therapist_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Therapist Id"}, "start_at": {"type": "string", "format": "date-time", "title": "Start At"}, "end_at": {"type": "string", "format": "date-time", "title": "End At"}, "duration_minutes": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Duration Minutes"}, "reserved_until": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Reserved Until"}, "course_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Course Id"}, "price": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Price"}, "payment_method": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Payment Method"}, "contact_info": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Contact Info"}, "guest_token": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Guest Token"}, "user_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "User Id"}, "notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes"}, "base_staff_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Base Staff Id"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}, "debug": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Debug"}}, "type": "object", "required": ["id", "status", "shop_id", "therapist_id", "start_at", "end_at", "created_at", "updated_at"], "title": "GuestReservationResponse"}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "LineCallbackRequest": {"properties": {"code": {"type": "string", "title": "Code"}, "state": {"type": "string", "title": "State"}}, "type": "object", "required": ["code", "state"], "title": "LineCallbackRequest"}, "LineConnectionStatusResponse": {"properties": {"connected": {"type": "boolean", "title": "Connected"}, "line_user_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Line User Id"}, "display_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Display Name"}}, "type": "object", "required": ["connected"], "title": "LineConnectionStatusResponse"}, "LineLoginUrlRequest": {"properties": {"redirect_path": {"type": "string", "title": "Redirect Path", "default": "/therapist/settings"}}, "type": "object", "title": "LineLoginUrlRequest"}, "LineLoginUrlResponse": {"properties": {"login_url": {"type": "string", "title": "Login Url"}, "state": {"type": "string", "title": "State"}}, "type": "object", "required": ["login_url", "state"], "title": "LineLoginUrlResponse"}, "MatchingBreakdown": {"properties": {"base_staff_similarity": {"type": "number", "title": "Base Staff Similarity"}, "tag_similarity": {"type": "number", "title": "Tag Similarity"}, "price_match": {"type": "number", "title": "Price Match"}, "age_match": {"type": "number", "title": "Age Match"}, "photo_similarity": {"type": "number", "title": "Photo Similarity"}, "availability_boost": {"type": "number", "title": "Availability Boost"}}, "type": "object", "required": ["base_staff_similarity", "tag_similarity", "price_match", "age_match", "photo_similarity", "availability_boost"], "title": "MatchingBreakdown"}, "MatchingCandidate": {"properties": {"id": {"type": "string", "title": "Id"}, "therapist_id": {"type": "string", "title": "Therapist Id"}, "therapist_name": {"type": "string", "title": "Therapist Name"}, "shop_id": {"type": "string", "title": "Shop Id"}, "shop_name": {"type": "string", "title": "Shop Name"}, "score": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Score"}, "breakdown": {"$ref": "#/components/schemas/MatchingBreakdown"}, "summary": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Summary"}, "slots": {"items": {"additionalProperties": true, "type": "object"}, "type": "array", "title": "Slots"}, "mood_tag": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Mood Tag"}, "style_tag": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Style Tag"}, "look_type": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Look Type"}, "talk_level": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Talk Level"}, "contact_style": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Contact Style"}, "hobby_tags": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Hobby Tags"}, "price_rank": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Price Rank"}, "age": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Age"}, "photo_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Photo Url"}, "photo_similarity": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Photo Similarity"}, "is_available": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Available"}, "availability": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Availability"}}, "type": "object", "required": ["id", "therapist_id", "therapist_name", "shop_id", "shop_name", "breakdown"], "title": "MatchingCandidate"}, "MatchingResponse": {"properties": {"items": {"items": {"$ref": "#/components/schemas/MatchingCandidate"}, "type": "array", "title": "Items"}, "total": {"type": "integer", "title": "Total"}}, "type": "object", "required": ["items", "total"], "title": "MatchingResponse"}, "MenuInput": {"properties": {"id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Id"}, "name": {"type": "string", "title": "Name"}, "price": {"type": "integer", "title": "Price"}, "duration_minutes": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Duration Minutes"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "tags": {"items": {"type": "string"}, "type": "array", "title": "Tags"}, "is_reservable_online": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Reservable Online", "default": true}}, "type": "object", "required": ["name", "price"], "title": "MenuInput"}, "MenuItem": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "duration_minutes": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Duration Minutes"}, "price": {"type": "integer", "title": "Price"}, "currency": {"type": "string", "title": "Currency", "default": "JPY"}, "is_reservable_online": {"type": "boolean", "title": "Is Reservable Online", "default": true}, "tags": {"items": {"type": "string"}, "type": "array", "title": "Tags"}}, "type": "object", "required": ["id", "name", "price"], "title": "MenuItem"}, "MigrateResponse": {"properties": {"success": {"type": "boolean", "title": "Success"}, "message": {"type": "string", "title": "Message"}, "current_revision": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Current Revision"}, "output": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Output"}}, "type": "object", "required": ["success", "message"], "title": "MigrateResponse"}, "NextAvailableSlot": {"properties": {"start_at": {"type": "string", "format": "date-time", "title": "Start At"}, "end_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "End At"}, "status": {"type": "string", "enum": ["ok", "maybe"], "title": "Status"}}, "type": "object", "required": ["start_at", "status"], "title": "NextAvailableSlot"}, "OpsOutboxChannelSummary": {"properties": {"channel": {"type": "string", "title": "Channel"}, "pending": {"type": "integer", "minimum": 0.0, "title": "Pending"}}, "type": "object", "required": ["channel", "pending"], "title": "OpsOutboxChannelSummary"}, "OpsOutboxSummary": {"properties": {"channels": {"items": {"$ref": "#/components/schemas/OpsOutboxChannelSummary"}, "type": "array", "title": "Channels"}}, "type": "object", "title": "OpsOutboxSummary"}, "OpsQueueStats": {"properties": {"pending": {"type": "integer", "minimum": 0.0, "title": "Pending"}, "lag_seconds": {"type": "number", "minimum": 0.0, "title": "Lag Seconds"}, "oldest_created_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Oldest Created At"}, "next_attempt_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Next Attempt At"}}, "type": "object", "required": ["pending", "lag_seconds"], "title": "OpsQueueStats"}, "OpsSlotsSummary": {"properties": {"pending_total": {"type": "integer", "minimum": 0.0, "title": "Pending Total"}, "pending_stale": {"type": "integer", "minimum": 0.0, "title": "Pending Stale"}, "confirmed_next_24h": {"type": "integer", "minimum": 0.0, "title": "Confirmed Next 24H"}, "window_start": {"type": "string", "format": "date-time", "title": "Window Start"}, "window_end": {"type": "string", "format": "date-time", "title": "Window End"}}, "type": "object", "required": ["pending_total", "pending_stale", "confirmed_next_24h", "window_start", "window_end"], "title": "OpsSlotsSummary"}, "ProfileCreate": {"properties": {"slug": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Slug"}, "name": {"type": "string", "title": "Name"}, "area": {"type": "string", "title": "Area"}, "price_min": {"type": "integer", "title": "Price Min"}, "price_max": {"type": "integer", "title": "Price Max"}, "bust_tag": {"type": "string", "title": "Bust Tag"}, "service_type": {"type": "string", "title": "Service Type", "default": "store"}, "height_cm": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Height Cm"}, "age": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Age"}, "body_tags": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Body Tags"}, "photos": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Photos"}, "contact_json": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Contact Json"}, "discounts": {"anyOf": [{"items": {"additionalProperties": true, "type": "object"}, "type": "array"}, {"type": "null"}], "title": "Discounts"}, "ranking_badges": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Ranking Badges"}, "ranking_weight": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Ranking Weight"}, "status": {"type": "string", "title": "Status", "default": "draft"}, "buffer_minutes": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Buffer Minutes", "description": "\u4e88\u7d04\u9593\u30d0\u30c3\u30d5\u30a1\u6642\u9593\uff08\u5206\uff09", "default": 0}, "room_count": {"anyOf": [{"type": "integer", "minimum": 1.0}, {"type": "null"}], "title": "Room Count", "description": "\u540c\u6642\u4e88\u7d04\u53ef\u80fd\u6570", "default": 1}}, "type": "object", "required": ["name", "area", "price_min", "price_max", "bust_tag"], "title": "ProfileCreate"}, "ProfileMarketingUpdate": {"properties": {"discounts": {"anyOf": [{"items": {"$ref": "#/components/schemas/DiscountIn"}, "type": "array"}, {"type": "null"}], "title": "Discounts"}, "ranking_badges": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Ranking Badges"}, "ranking_weight": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Ranking Weight"}}, "type": "object", "title": "ProfileMarketingUpdate"}, "PushSubscriptionRequest": {"properties": {"endpoint": {"type": "string", "title": "Endpoint"}, "keys": {"additionalProperties": {"type": "string"}, "type": "object", "title": "Keys"}, "expirationTime": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Expirationtime"}}, "type": "object", "required": ["endpoint", "keys"], "title": "PushSubscriptionRequest", "description": "Push subscription request model."}, "PushSubscriptionResponse": {"properties": {"success": {"type": "boolean", "title": "Success"}, "message": {"type": "string", "title": "Message"}}, "type": "object", "required": ["success", "message"], "title": "PushSubscriptionResponse", "description": "Push subscription response model."}, "ReviewCreateRequest": {"properties": {"score": {"type": "integer", "maximum": 5.0, "minimum": 1.0, "title": "Score"}, "body": {"type": "string", "maxLength": 4000, "minLength": 1, "title": "Body"}, "title": {"anyOf": [{"type": "string", "maxLength": 160}, {"type": "null"}], "title": "Title"}, "author_alias": {"anyOf": [{"type": "string", "maxLength": 80}, {"type": "null"}], "title": "Author Alias"}, "visited_at": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "title": "Visited At"}, "aspects": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Aspects"}}, "type": "object", "required": ["score", "body"], "title": "ReviewCreateRequest"}, "ReviewItem": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "profile_id": {"type": "string", "format": "uuid", "title": "Profile Id"}, "status": {"type": "string", "enum": ["pending", "published", "rejected"], "title": "Status"}, "score": {"type": "integer", "title": "Score"}, "title": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Title"}, "body": {"type": "string", "title": "Body"}, "author_alias": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Author Alias"}, "visited_at": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "title": "Visited At"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}, "aspects": {"additionalProperties": true, "type": "object", "title": "Aspects"}}, "type": "object", "required": ["id", "profile_id", "status", "score", "body", "created_at", "updated_at"], "title": "ReviewItem"}, "ReviewListResponse": {"properties": {"total": {"type": "integer", "title": "Total"}, "items": {"items": {"$ref": "#/components/schemas/ReviewItem"}, "type": "array", "title": "Items"}, "aspect_averages": {"additionalProperties": {"type": "number"}, "type": "object", "title": "Aspect Averages"}, "aspect_counts": {"additionalProperties": {"type": "integer"}, "type": "object", "title": "Aspect Counts"}}, "type": "object", "required": ["total", "items"], "title": "ReviewListResponse"}, "ReviewModerationRequest": {"properties": {"status": {"type": "string", "enum": ["pending", "published", "rejected"], "title": "Status"}}, "type": "object", "required": ["status"], "title": "ReviewModerationRequest"}, "ShiftCreatePayload": {"properties": {"therapist_id": {"type": "string", "format": "uuid", "title": "Therapist Id"}, "date": {"type": "string", "format": "date", "title": "Date"}, "start_at": {"type": "string", "format": "date-time", "title": "Start At"}, "end_at": {"type": "string", "format": "date-time", "title": "End At"}, "break_slots": {"items": {"$ref": "#/components/schemas/app__domains__dashboard__shifts__router__BreakSlot"}, "type": "array", "title": "Break Slots"}, "availability_status": {"type": "string", "title": "Availability Status", "default": "available"}, "notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes"}}, "type": "object", "required": ["therapist_id", "date", "start_at", "end_at"], "title": "ShiftCreatePayload"}, "ShiftItem": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "therapist_id": {"type": "string", "format": "uuid", "title": "Therapist Id"}, "shop_id": {"type": "string", "format": "uuid", "title": "Shop Id"}, "date": {"type": "string", "format": "date", "title": "Date"}, "start_at": {"type": "string", "format": "date-time", "title": "Start At"}, "end_at": {"type": "string", "format": "date-time", "title": "End At"}, "break_slots": {"items": {"additionalProperties": true, "type": "object"}, "type": "array", "title": "Break Slots"}, "availability_status": {"type": "string", "title": "Availability Status"}, "notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes"}, "created_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Created At"}, "updated_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Updated At"}}, "type": "object", "required": ["id", "therapist_id", "shop_id", "date", "start_at", "end_at", "break_slots", "availability_status", "notes", "created_at", "updated_at"], "title": "ShiftItem"}, "ShiftUpdatePayload": {"properties": {"start_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Start At"}, "end_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "End At"}, "break_slots": {"anyOf": [{"items": {"$ref": "#/components/schemas/app__domains__dashboard__shifts__router__BreakSlot"}, "type": "array"}, {"type": "null"}], "title": "Break Slots"}, "availability_status": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Availability Status"}, "notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes"}}, "type": "object", "title": "ShiftUpdatePayload"}, "ShopAdminDetail": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "slug": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Slug"}, "area": {"type": "string", "title": "Area"}, "price_min": {"type": "integer", "title": "Price Min"}, "price_max": {"type": "integer", "title": "Price Max"}, "service_type": {"type": "string", "title": "Service Type"}, "service_tags": {"items": {"type": "string"}, "type": "array", "title": "Service Tags"}, "contact": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Contact"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "catch_copy": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Catch Copy"}, "address": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address"}, "photos": {"items": {"type": "string"}, "type": "array", "title": "Photos"}, "menus": {"items": {"$ref": "#/components/schemas/MenuItem"}, "type": "array", "title": "Menus"}, "staff": {"items": {"$ref": "#/components/schemas/StaffSummary"}, "type": "array", "title": "Staff"}, "availability": {"items": {"$ref": "#/components/schemas/AvailabilityDay"}, "type": "array", "title": "Availability"}}, "type": "object", "required": ["id", "name", "area", "price_min", "price_max", "service_type"], "title": "ShopAdminDetail"}, "ShopAdminList": {"properties": {"items": {"items": {"$ref": "#/components/schemas/ShopAdminSummary"}, "type": "array", "title": "Items"}}, "type": "object", "required": ["items"], "title": "ShopAdminList"}, "ShopAdminSummary": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "slug": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Slug"}, "area": {"type": "string", "title": "Area"}, "status": {"type": "string", "title": "Status"}, "service_type": {"type": "string", "title": "Service Type"}}, "type": "object", "required": ["id", "name", "area", "status", "service_type"], "title": "ShopAdminSummary"}, "ShopContactUpdate": {"properties": {"phone": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Phone"}, "line_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Line Id"}, "website_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Website Url"}, "reservation_form_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Reservation Form Url"}, "sns": {"anyOf": [{"items": {"additionalProperties": true, "type": "object"}, "type": "array"}, {"type": "null"}], "title": "Sns"}}, "type": "object", "title": "ShopContactUpdate"}, "ShopContentUpdate": {"properties": {"name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "slug": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Slug"}, "area": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Area"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "catch_copy": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Catch Copy"}, "address": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address"}, "status": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Status", "description": "\u516c\u958b\u72b6\u614b: draft(\u4e0b\u66f8\u304d), published(\u516c\u958b\u4e2d)"}, "room_count": {"anyOf": [{"type": "integer", "minimum": 1.0}, {"type": "null"}], "title": "Room Count", "description": "\u540c\u6642\u4e88\u7d04\u53ef\u80fd\u6570"}, "buffer_minutes": {"anyOf": [{"type": "integer", "maximum": 120.0, "minimum": 0.0}, {"type": "null"}], "title": "Buffer Minutes", "description": "\u4e88\u7d04\u9593\u30d0\u30c3\u30d5\u30a1\u6642\u9593\uff08\u5206\uff09"}, "default_slot_duration_minutes": {"anyOf": [{"type": "integer", "minimum": 30.0}, {"type": "null"}], "title": "Default Slot Duration Minutes", "description": "\u30c7\u30d5\u30a9\u30eb\u30c8\u65bd\u8853\u6642\u9593\uff08\u5206\uff09"}, "price_min": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Price Min"}, "price_max": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Price Max"}, "service_type": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Service Type"}, "service_tags": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Service Tags"}, "menus": {"anyOf": [{"items": {"$ref": "#/components/schemas/MenuInput"}, "type": "array"}, {"type": "null"}], "title": "Menus"}, "staff": {"anyOf": [{"items": {"$ref": "#/components/schemas/StaffInput"}, "type": "array"}, {"type": "null"}], "title": "Staff"}, "contact": {"anyOf": [{"$ref": "#/components/schemas/ShopContactUpdate"}, {"type": "null"}]}, "photos": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Photos"}}, "type": "object", "title": "ShopContentUpdate"}, "ShopInfo": {"properties": {"id": {"type": "string", "title": "Id"}, "slug": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Slug"}, "name": {"type": "string", "title": "Name"}, "area": {"type": "string", "title": "Area"}}, "type": "object", "required": ["id", "name", "area"], "title": "ShopInfo"}, "ShopManagerItem": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "user_id": {"type": "string", "format": "uuid", "title": "User Id"}, "email": {"type": "string", "title": "Email"}, "display_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Display Name"}, "role": {"type": "string", "enum": ["owner", "manager", "staff"], "title": "Role"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["id", "user_id", "email", "display_name", "role", "created_at"], "title": "ShopManagerItem", "description": "A single shop manager."}, "ShopManagerListResponse": {"properties": {"managers": {"items": {"$ref": "#/components/schemas/ShopManagerItem"}, "type": "array", "title": "Managers"}}, "type": "object", "required": ["managers"], "title": "ShopManagerListResponse", "description": "Response for listing shop managers."}, "ShopPayload": {"properties": {"name": {"type": "string", "title": "Name"}, "area": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Area"}, "url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Url", "description": "public website or landing page"}, "price_min": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Price Min", "description": "Minimum price"}, "price_max": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Price Max", "description": "Maximum price"}, "nearest_station": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Nearest Station", "description": "Nearest station name"}, "station_walk_minutes": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Station Walk Minutes", "description": "Walk minutes from station"}, "photos": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Photos", "description": "List of photo URLs"}, "contact": {"anyOf": [{"$ref": "#/components/schemas/ContactInfo"}, {"type": "null"}], "description": "Contact information"}}, "type": "object", "required": ["name"], "title": "ShopPayload"}, "ShopPhotoUploadResponse": {"properties": {"url": {"type": "string", "title": "Url"}, "filename": {"type": "string", "title": "Filename"}, "content_type": {"type": "string", "title": "Content Type"}, "size": {"type": "integer", "title": "Size"}}, "type": "object", "required": ["url", "filename", "content_type", "size"], "title": "ShopPhotoUploadResponse"}, "SimilarResponse": {"properties": {"base_staff_id": {"type": "string", "title": "Base Staff Id"}, "items": {"items": {"$ref": "#/components/schemas/app__domains__site__guest_matching__schemas__SimilarTherapistItem"}, "type": "array", "title": "Items"}}, "type": "object", "required": ["base_staff_id", "items"], "title": "SimilarResponse"}, "SimilarTherapistTags": {"properties": {"mood": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Mood"}, "style": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Style"}}, "type": "object", "title": "SimilarTherapistTags", "description": "Tags for similar therapist display."}, "SimilarTherapistsResponse": {"properties": {"therapists": {"items": {"$ref": "#/components/schemas/app__domains__site__therapists__schemas__SimilarTherapistItem"}, "type": "array", "title": "Therapists"}}, "type": "object", "required": ["therapists"], "title": "SimilarTherapistsResponse", "description": "Response for similar therapists endpoint."}, "SlotVerificationResponse": {"properties": {"therapist_id": {"type": "string", "format": "uuid", "title": "Therapist Id"}, "start_at": {"type": "string", "format": "date-time", "title": "Start At"}, "end_at": {"type": "string", "format": "date-time", "title": "End At"}, "status": {"type": "string", "enum": ["open", "tentative", "blocked"], "title": "Status"}, "verified_at": {"type": "string", "format": "date-time", "title": "Verified At", "description": "Verification timestamp in JST"}, "is_available": {"type": "boolean", "title": "Is Available", "description": "True if slot can be booked"}}, "type": "object", "required": ["therapist_id", "start_at", "end_at", "status", "verified_at", "is_available"], "title": "SlotVerificationResponse", "description": "\u30b9\u30ed\u30c3\u30c8\u691c\u8a3c\u7d50\u679c"}, "StaffInput": {"properties": {"id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Id"}, "name": {"type": "string", "title": "Name"}, "alias": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Alias"}, "headline": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Headline"}, "specialties": {"items": {"type": "string"}, "type": "array", "title": "Specialties"}}, "type": "object", "required": ["name"], "title": "StaffInput"}, "StaffShift": {"properties": {"date": {"type": "string", "format": "date", "title": "Date"}, "start_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Start At"}, "end_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "End At"}, "status": {"anyOf": [{"type": "string", "enum": ["available", "limited", "unavailable"]}, {"type": "null"}], "title": "Status"}}, "type": "object", "required": ["date"], "title": "StaffShift"}, "StaffSummary": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "alias": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Alias"}, "avatar_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Avatar Url"}, "headline": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Headline"}, "rating": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Rating"}, "review_count": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Review Count"}, "next_shift": {"anyOf": [{"$ref": "#/components/schemas/StaffShift"}, {"type": "null"}]}, "specialties": {"items": {"type": "string"}, "type": "array", "title": "Specialties"}, "is_pickup": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Pickup"}, "next_available_slot": {"anyOf": [{"$ref": "#/components/schemas/NextAvailableSlot"}, {"type": "null"}]}, "recommended_score": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Recommended Score"}, "tags": {"anyOf": [{"$ref": "#/components/schemas/StaffTags"}, {"type": "null"}]}}, "type": "object", "required": ["id", "name"], "title": "StaffSummary"}, "StaffTags": {"properties": {"mood": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Mood"}, "style": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Style"}, "look": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Look"}, "contact": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Contact"}, "hobby_tags": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Hobby Tags"}}, "type": "object", "title": "StaffTags", "description": "Tags for staff profile display (mood, style, look, etc.)."}, "StampRequest": {"properties": {"revision": {"type": "string", "title": "Revision", "default": "head"}}, "type": "object", "title": "StampRequest"}, "TestNotificationRequest": {"properties": {"title": {"type": "string", "title": "Title", "default": "\u30c6\u30b9\u30c8\u901a\u77e5"}, "body": {"type": "string", "title": "Body", "default": "\u3053\u308c\u306f\u30c6\u30b9\u30c8\u901a\u77e5\u3067\u3059"}, "url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Url"}}, "type": "object", "title": "TestNotificationRequest", "description": "Test notification request model."}, "TherapistDetailResponse": {"properties": {"therapist": {"$ref": "#/components/schemas/TherapistInfo"}, "shop": {"$ref": "#/components/schemas/ShopInfo"}, "availability": {"$ref": "#/components/schemas/AvailabilityInfo"}, "recommended_score": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Recommended Score"}, "breakdown": {"anyOf": [{"$ref": "#/components/schemas/BreakdownInfo"}, {"type": "null"}]}, "entry_source": {"type": "string", "title": "Entry Source"}}, "type": "object", "required": ["therapist", "shop", "availability", "entry_source"], "title": "TherapistDetailResponse"}, "TherapistFavoriteCreate": {"properties": {"therapist_id": {"type": "string", "format": "uuid", "title": "Therapist Id"}}, "type": "object", "required": ["therapist_id"], "title": "TherapistFavoriteCreate"}, "TherapistFavoriteItem": {"properties": {"therapist_id": {"type": "string", "format": "uuid", "title": "Therapist Id"}, "shop_id": {"type": "string", "format": "uuid", "title": "Shop Id"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["therapist_id", "shop_id", "created_at"], "title": "TherapistFavoriteItem"}, "TherapistInfo": {"properties": {"id": {"type": "string", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "age": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Age"}, "price_rank": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Price Rank"}, "tags": {"anyOf": [{"$ref": "#/components/schemas/TherapistTags"}, {"type": "null"}]}, "profile_text": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Profile Text"}, "photos": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Photos"}, "badges": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Badges"}}, "type": "object", "required": ["id", "name"], "title": "TherapistInfo"}, "TherapistPayload": {"properties": {"profile_id": {"type": "string", "format": "uuid", "title": "Profile Id"}, "name": {"type": "string", "title": "Name"}, "age": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Age"}, "photo_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Photo Url"}, "tags": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Tags", "description": "\u7c21\u6613\u30bf\u30b0\uff08specialties\u76f8\u5f53\uff09"}, "mood_tag": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Mood Tag", "description": "\u96f0\u56f2\u6c17\u30bf\u30b0"}, "style_tag": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Style Tag", "description": "\u65bd\u8853\u30b9\u30bf\u30a4\u30eb\u30bf\u30b0"}, "look_type": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Look Type", "description": "\u5916\u898b\u30bf\u30a4\u30d7\u30bf\u30b0"}, "contact_style": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Contact Style", "description": "\u63a5\u89e6\u30b9\u30bf\u30a4\u30eb\u30bf\u30b0"}, "talk_level": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Talk Level", "description": "\u4f1a\u8a71\u30ec\u30d9\u30eb\u30bf\u30b0"}, "hobby_tags": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Hobby Tags", "description": "\u8da3\u5473\u30bf\u30b0"}, "price_rank": {"anyOf": [{"type": "integer", "maximum": 5.0, "minimum": 1.0}, {"type": "null"}], "title": "Price Rank", "description": "\u4fa1\u683c\u5e2f (1-5)"}}, "type": "object", "required": ["profile_id", "name"], "title": "TherapistPayload"}, "TherapistShiftPayload": {"properties": {"therapist_id": {"type": "string", "format": "uuid", "title": "Therapist Id"}, "shop_id": {"type": "string", "format": "uuid", "title": "Shop Id"}, "date": {"type": "string", "format": "date", "title": "Date"}, "start_at": {"type": "string", "format": "date-time", "title": "Start At"}, "end_at": {"type": "string", "format": "date-time", "title": "End At"}, "break_slots": {"items": {"$ref": "#/components/schemas/app__domains__dashboard__shifts__router__BreakSlot"}, "type": "array", "title": "Break Slots"}, "availability_status": {"type": "string", "title": "Availability Status", "default": "available"}, "notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes"}}, "type": "object", "required": ["therapist_id", "shop_id", "date", "start_at", "end_at"], "title": "TherapistShiftPayload"}, "TherapistTags": {"properties": {"mood": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Mood"}, "style": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Style"}, "look": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Look"}, "contact": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Contact"}, "hobby_tags": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Hobby Tags"}}, "type": "object", "title": "TherapistTags"}, "TherapistUpdatePayload": {"properties": {"name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "headline": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Headline", "description": "\u898b\u51fa\u3057\u30fb\u30ad\u30e3\u30c3\u30c1\u30b3\u30d4\u30fc"}, "biography": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Biography", "description": "\u7565\u6b74\u30fb\u81ea\u5df1\u7d39\u4ecb"}, "age": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Age"}, "mood_tag": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Mood Tag"}, "style_tag": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Style Tag"}, "look_type": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Look Type"}, "contact_style": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Contact Style"}, "talk_level": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Talk Level"}, "hobby_tags": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Hobby Tags"}, "price_rank": {"anyOf": [{"type": "integer", "maximum": 5.0, "minimum": 1.0}, {"type": "null"}], "title": "Price Rank"}, "tags": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Tags", "description": "specialties"}, "status": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Status", "description": "\u516c\u958b\u72b6\u614b: draft(\u4e0b\u66f8\u304d), active(\u516c\u958b\u4e2d), inactive(\u975e\u516c\u958b)"}, "is_booking_enabled": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Booking Enabled", "description": "\u4e88\u7d04\u53d7\u4ed8\u3092\u6709\u52b9\u306b\u3059\u308b\u304b"}, "display_order": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Display Order", "description": "\u8868\u793a\u9806\u5e8f\uff08\u5c0f\u3055\u3044\u9806\uff09"}, "photo_urls": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Photo Urls", "description": "\u5199\u771fURL\u914d\u5217"}, "main_photo_index": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Main Photo Index", "description": "\u30e1\u30a4\u30f3\u5199\u771f\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9"}}, "type": "object", "title": "TherapistUpdatePayload", "description": "Payload for updating therapist fields."}, "UpdateBufferMinutesPayload": {"properties": {"buffer_minutes": {"type": "integer", "maximum": 120.0, "minimum": 0.0, "title": "Buffer Minutes", "description": "Buffer minutes between reservations (0-120)"}}, "type": "object", "required": ["buffer_minutes"], "title": "UpdateBufferMinutesPayload"}, "UpdateShopManagerRequest": {"properties": {"role": {"type": "string", "enum": ["owner", "manager", "staff"], "title": "Role"}}, "type": "object", "required": ["role"], "title": "UpdateShopManagerRequest", "description": "Request to update a shop manager's role."}, "UpdateShopManagerResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "user_id": {"type": "string", "format": "uuid", "title": "User Id"}, "email": {"type": "string", "title": "Email"}, "display_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Display Name"}, "role": {"type": "string", "title": "Role"}}, "type": "object", "required": ["id", "user_id", "email", "display_name", "role"], "title": "UpdateShopManagerResponse", "description": "Response after updating a shop manager."}, "UserPublic": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "email": {"type": "string", "format": "email", "title": "Email"}, "display_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Display Name"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "last_login_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Last Login At"}}, "type": "object", "required": ["id", "email", "created_at"], "title": "UserPublic"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}, "app__domains__dashboard__shifts__router__BreakSlot": {"properties": {"start_at": {"type": "string", "format": "date-time", "title": "Start At"}, "end_at": {"type": "string", "format": "date-time", "title": "End At"}}, "type": "object", "required": ["start_at", "end_at"], "title": "BreakSlot"}, "app__domains__site__guest_matching__schemas__SimilarTherapistItem": {"properties": {"id": {"type": "string", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "age": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Age"}, "price_rank": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Price Rank"}, "mood_tag": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Mood Tag"}, "style_tag": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Style Tag"}, "look_type": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Look Type"}, "contact_style": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Contact Style"}, "hobby_tags": {"items": {"type": "string"}, "type": "array", "title": "Hobby Tags"}, "photo_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Photo Url"}, "is_available_now": {"type": "boolean", "title": "Is Available Now", "default": true}, "score": {"type": "number", "title": "Score"}, "photo_similarity": {"type": "number", "title": "Photo Similarity"}, "tag_similarity": {"type": "number", "title": "Tag Similarity"}}, "type": "object", "required": ["id", "name", "score", "photo_similarity", "tag_similarity"], "title": "SimilarTherapistItem", "description": "Response item for /similar. All scores are normalized to 0..1.\n\nphoto_similarity is a placeholder that will later be replaced with an embedding\nsimilarity score; v1 mirrors tag_similarity."}, "app__domains__site__therapist_availability__schemas__AvailabilitySlot": {"properties": {"start_at": {"type": "string", "format": "date-time", "title": "Start At", "description": "ISO datetime of the available start"}, "end_at": {"type": "string", "format": "date-time", "title": "End At", "description": "ISO datetime of the available end"}, "status": {"type": "string", "enum": ["open", "tentative", "blocked"], "title": "Status", "description": "Slot status: open=available, tentative=needs confirmation, blocked=unavailable", "default": "open"}}, "type": "object", "required": ["start_at", "end_at"], "title": "AvailabilitySlot"}, "app__domains__site__therapists__schemas__SimilarTherapistItem": {"properties": {"id": {"type": "string", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "photos": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Photos"}, "tags": {"anyOf": [{"$ref": "#/components/schemas/SimilarTherapistTags"}, {"type": "null"}]}, "price_rank": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Price Rank"}, "similarity_score": {"type": "number", "title": "Similarity Score"}, "available_today": {"type": "boolean", "title": "Available Today"}}, "type": "object", "required": ["id", "name", "similarity_score", "available_today"], "title": "SimilarTherapistItem", "description": "Similar therapist item for frontend display."}, "app__schemas__shop__AvailabilitySlot": {"properties": {"start_at": {"type": "string", "format": "date-time", "title": "Start At"}, "end_at": {"type": "string", "format": "date-time", "title": "End At"}, "status": {"type": "string", "enum": ["open", "blocked"], "title": "Status", "default": "open"}, "staff_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Staff Id"}, "menu_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Menu Id"}}, "type": "object", "required": ["start_at", "end_at"], "title": "AvailabilitySlot"}}, "securitySchemes": {"bearerAuth": {"type": "http", "scheme": "bearer", "bearerFormat": "JWT", "description": "JWT\u8a8d\u8a3c\u30c8\u30fc\u30af\u30f3"}, "adminApiKey": {"type": "apiKey", "in": "header", "name": "X-Admin-Key", "description": "\u7ba1\u7406\u8005API\u30ad\u30fc"}}, "responses": {"UnauthorizedError": {"description": "\u8a8d\u8a3c\u30a8\u30e9\u30fc", "content": {"application/json": {"schema": {"type": "object", "properties": {"detail": {"type": "string", "example": "Not authenticated"}}}}}}, "NotFoundError": {"description": "\u30ea\u30bd\u30fc\u30b9\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093", "content": {"application/json": {"schema": {"type": "object", "properties": {"detail": {"type": "string", "example": "Resource not found"}}}}}}, "ValidationError": {"description": "\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u30a8\u30e9\u30fc", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "tags": [{"name": "shops", "description": "\u5e97\u8217\u95a2\u9023\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8", "externalDocs": {"description": "\u5e97\u8217\u691c\u7d22\u306e\u8a73\u7d30\u4ed5\u69d8", "url": "https://docs.osakamenesu.com/api/shops"}}, {"name": "therapists", "description": "\u30bb\u30e9\u30d4\u30b9\u30c8\u95a2\u9023\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8"}, {"name": "reservations", "description": "\u4e88\u7d04\u7ba1\u7406\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8"}, {"name": "auth", "description": "\u8a8d\u8a3c\u95a2\u9023\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8"}, {"name": "dashboard", "description": "\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\uff08\u7ba1\u7406\u753b\u9762\uff09\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8"}, {"name": "admin", "description": "\u30b7\u30b9\u30c6\u30e0\u7ba1\u7406\u8005\u5411\u3051\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8"}, {"name": "ops", "description": "\u904b\u7528\u30fb\u76e3\u8996\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8"}], "servers": [{"url": "https://osakamenesu-api.fly.dev", "description": "Production server"}, {"url": "https://osakamenesu-api-stg.fly.dev", "description": "Staging server"}, {"url": "http://localhost:8000", "description": "Local development server"}]};

        // Initialize Swagger UI
        const ui = SwaggerUIBundle({
            spec: spec,
            dom_id: '#swagger-ui',
            deepLinking: true,
            presets: [
                SwaggerUIBundle.presets.apis,
                SwaggerUIStandalonePreset
            ],
            plugins: [
                SwaggerUIBundle.plugins.DownloadUrl
            ],
            layout: "StandaloneLayout",
            persistAuthorization: true,
            filter: true,
            tryItOutEnabled: true,
            supportedSubmitMethods: ['get', 'post', 'put', 'delete', 'patch'],
            onComplete: () => {
                console.log("Swagger UI loaded");
            }
        });

        window.ui = ui;

        function switchToSwagger() {
            document.getElementById('swagger-ui').style.display = 'block';
            document.getElementById('redoc-container').style.display = 'none';
        }

        function switchToRedoc() {
            document.getElementById('swagger-ui').style.display = 'none';
            document.getElementById('redoc-container').style.display = 'block';

            // Initialize ReDoc if not already done
            if (!document.getElementById('redoc-container').hasChildNodes()) {
                Redoc.init(spec, {
                    scrollYOffset: 50,
                    hideDownloadButton: false,
                    disableSearch: false,
                    theme: {
                        colors: {
                            primary: {
                                main: '#1976d2'
                            }
                        },
                        typography: {
                            fontSize: '14px',
                            code: {
                                fontSize: '13px',
                                fontFamily: 'Consolas, Monaco, monospace'
                            }
                        }
                    }
                }, document.getElementById('redoc-container'));
            }
        }
    </script>
</body>
</html>